<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>LeetCode Weekly Contest 38 | 笔记仓库</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="https://leetcode.com/contest/leetcode-weekly-contest-38/ 本周刷题，周日睡晚了所以没参加。这周的题我看了下，根据前几名的时间来推算，比上周麻烦多了。但实际上主要问题出在第二题的贪心策略和第三题的动态规划上，虽然很明显能想到是通过贪心和动规解决的，但具体策略上容易想">
<meta name="keywords" content="贪心算法,动态规划">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode Weekly Contest 38">
<meta property="og:url" content="notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-38/index.html">
<meta property="og:site_name" content="笔记仓库">
<meta property="og:description" content="https://leetcode.com/contest/leetcode-weekly-contest-38/ 本周刷题，周日睡晚了所以没参加。这周的题我看了下，根据前几名的时间来推算，比上周麻烦多了。但实际上主要问题出在第二题的贪心策略和第三题的动态规划上，虽然很明显能想到是通过贪心和动规解决的，但具体策略上容易想不到。标注为hard难度的第四题反而是硬码就能过去的。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-06-28T14:42:21.035Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode Weekly Contest 38">
<meta name="twitter:description" content="https://leetcode.com/contest/leetcode-weekly-contest-38/ 本周刷题，周日睡晚了所以没参加。这周的题我看了下，根据前几名的时间来推算，比上周麻烦多了。但实际上主要问题出在第二题的贪心策略和第三题的动态规划上，虽然很明显能想到是通过贪心和动规解决的，但具体策略上容易想不到。标注为hard难度的第四题反而是硬码就能过去的。">
<meta name="twitter:creator" content="@yangzhou301">
  
    <link rel="alternate" href="/atom.xml" title="笔记仓库" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83527033-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2215e0ea4875ead3c44e8c3e379722a4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">笔记仓库</h1>
  
    <p class="lead blog-description">正常人的正常笔记集</p>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          <article id="post-LeetCode-Weekly-Contest-38" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 class="article-title" itemprop="name">
      LeetCode Weekly Contest 38
    </h1>
  


    <meta name="ujianVerification" content="542ffd85bb968154b1190d5d92d59cef" />
  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/LeetCode/LeetCode-Weekly-Contest-38/" class="article-date"><time datetime="2017-06-28T07:28:00.000Z" itemprop="datePublished">2017-06-28</time></a>
</div>

    <div class="article-author">Xinyi Li</div>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/LeetCode/">LeetCode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://leetcode.com/contest/leetcode-weekly-contest-38/" target="_blank" rel="noopener">https://leetcode.com/contest/leetcode-weekly-contest-38/</a></p>
<p>本周刷题，周日睡晚了所以没参加。这周的题我看了下，根据前几名的时间来推算，比上周麻烦多了。但实际上主要问题出在第二题的贪心策略和第三题的动态规划上，虽然很明显能想到是通过贪心和动规解决的，但具体策略上容易想不到。标注为<code>hard</code>难度的第四题反而是硬码就能过去的。</p>
<a id="more"></a>
<h2 id="Maximum-Product-of-Three-Numbers"><a href="#Maximum-Product-of-Three-Numbers" class="headerlink" title="Maximum Product of Three Numbers"></a>Maximum Product of Three Numbers</h2><p>原题地址：<a href="https://leetcode.com/contest/leetcode-weekly-contest-38/problems/maximum-product-of-three-numbers/" target="_blank" rel="noopener">https://leetcode.com/contest/leetcode-weekly-contest-38/problems/maximum-product-of-three-numbers/</a></p>
<div class="bs-callout bs-callout-info"><h4 id="Maximum-Product-of-Three-Numbers"><a href="#Maximum-Product-of-Three-Numbers" class="headerlink" title=" Maximum Product of Three Numbers"></a><i class="fa fa-info-circle"></i> Maximum Product of Three Numbers</h4><p>Given an integer array, find three numbers whose product is maximum and output the maximum product.</p>
<p><strong>Example 1</strong>:</p>
<p>Input: [1,2,3]</p>
<p>Output: 6</p>
<p><strong>Example 2</strong>:</p>
<p>Input: [1,2,3,4]</p>
<p>Output: 24</p>
<p><strong>Note</strong>:</p>
<ol>
<li>The length of the given array will be in range $[3,10^4]$ and all elements are in the range $[-1000, 1000]$.</li>
<li>Multiplication of any three numbers in the input won’t exceed the range of 32-bit signed integer.</li>
</ol>
</div>
<p>我思路比较简单，取整个数组里面最大的正数，最大的由三个数产生的乘积中一定有一个是来自这个数的，剩下的要比较的就是最小的两个负数的乘积，以及两个次大的正数的乘积，哪个更大？</p>
<p>当然如果根本不存在最大的正数，也就是说整个数组的数都小于等于0，那么就把最大的三个数（也就是绝对值最小的三个负数）相乘。说到底，本质上就是把数组按升序排序后记为<code>a</code>，比较<code>a[-1]*a[-2]*a[-3]</code>和<code>a[-1]*a[0]*a[1]</code>哪个大。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maximumProduct</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        m1=max(nums)</span><br><span class="line">        nums.pop(nums.index(m1))</span><br><span class="line">        m2=max(nums)</span><br><span class="line">        nums.pop(nums.index(m2))</span><br><span class="line">        m3=max(nums)</span><br><span class="line">        nums.pop(nums.index(m3))</span><br><span class="line">        nums.append(m2)</span><br><span class="line">        nums.append(m3)</span><br><span class="line">        <span class="keyword">if</span> m1&lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> m1*m2*m3</span><br><span class="line">        l1=min(nums)</span><br><span class="line">        nums.pop(nums.index(l1))</span><br><span class="line">        l2=min(nums)</span><br><span class="line">        <span class="keyword">if</span> l1*l2&gt;m2*m3:</span><br><span class="line">            <span class="keyword">return</span> l1*l2*m1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> m1*m2*m3</span><br></pre></td></tr></table></figure>
<p>我为了运行的快一点，没做排序但做了不少分支，结果提交的时候也是所有py代码里面最快的。如果不追求运行速度的话完全可以写的简单一些，直接排序后比较上面两个乘积的大小就行了。</p>
<h2 id="Course-Schedule-III"><a href="#Course-Schedule-III" class="headerlink" title="Course Schedule III"></a>Course Schedule III</h2><p>原题地址：<a href="https://leetcode.com/contest/leetcode-weekly-contest-38/problems/course-schedule-iii/" target="_blank" rel="noopener">https://leetcode.com/contest/leetcode-weekly-contest-38/problems/course-schedule-iii/</a></p>
<div class="bs-callout bs-callout-info"><h4 id="Course-Schedule-III"><a href="#Course-Schedule-III" class="headerlink" title=" Course Schedule III"></a><i class="fa fa-info-circle"></i> Course Schedule III</h4><p>There are <code>n</code> different online courses numbered from <code>1</code> to <code>n</code>. Each course has some duration(course length) <code>t</code> and closed on dth day. A course should be taken continuously for <code>t</code> days and must be finished before or on the dth day. You will start at the 1st day.</p>
<p>Given <code>n</code> online courses represented by pairs <code>(t,d)</code>, your task is to find the maximal number of courses that can be taken.</p>
<p><strong>Example</strong>:<br>Input: [[100, 200], [200, 1300], [1000, 1250], [2000, 3200]]</p>
<p>Output: 3</p>
<p>Explanation:</p>
<p>There’re totally 4 courses, but you can take 3 courses at most:</p>
<p>First, take the 1st course, it costs 100 days so you will finish it on the 100th day, and ready to take the next course on the 101st day.</p>
<p>Second, take the 3rd course, it costs 1000 days so you will finish it on the 1100th day, and ready to take the next course on the 1101st day.</p>
<p>Third, take the 2nd course, it costs 200 days so you will finish it on the 1300th day.</p>
<p>The 4th course cannot be taken now, since you will finish it on the 3300th day, which exceeds the closed date.</p>
<p><strong>Note</strong>:</p>
<ol>
<li>The integer 1 &lt;= d, t, n &lt;= 10,000.</li>
<li>You can’t take two courses simultaneously.</li>
</ol>
</div>
<p>这类任务调度问题在CS161的习题中已经讨论了不少，不过一般讨论的优化目标是$\mathop {\max }\limits_i \left[ \max (f_i - d_i,0) \right]$或者$\sum\nolimits_i {\max (f_i - d_i,0)}$，其中$f_i$表示任务$i$的实际完成时间，这类问题通常遵循死线最近优先完成原则<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>，这题的优化目标是$\sum\nolimits_i {[d_i - f_i \ge 0]}$，策略上也没有太大不同，先按照<code>d</code>的升序给课程们排序，依次开始完成课程，当当前完成时间晚于课程的<code>d</code>时，从之前完成的课程中去除用时最多(<code>t</code>最大)的课再放入当前的课，这样以一课换一课如果失败则确实不存在更优的课程安排。<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">scheduleCourse</span><span class="params">(self, courses)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type courses: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        c= sorted(courses, key = <span class="keyword">lambda</span> x :  x[<span class="number">1</span>] )</span><br><span class="line">        roll=[]</span><br><span class="line">        time = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> c:</span><br><span class="line">            time += i[<span class="number">0</span>]</span><br><span class="line">            heapq.heappush(roll,-i[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">while</span> time &gt; i[<span class="number">1</span>]:</span><br><span class="line">                time += heapq.heappop(roll)</span><br><span class="line">        <span class="keyword">return</span> len(roll)</span><br></pre></td></tr></table></figure></p>
<p>需要注意的是我一开始从<code>roll</code>中选择<code>t</code>最大的课时直接用了<code>max</code>和<code>pop</code>函数出现了TLE，所以这里维护了一个最小堆来快速寻找最大的<code>t</code></p>
<h2 id="K-Inverse-Pairs-Array"><a href="#K-Inverse-Pairs-Array" class="headerlink" title="K Inverse Pairs Array"></a>K Inverse Pairs Array</h2><p>原题地址 <a href="https://leetcode.com/contest/leetcode-weekly-contest-38/problems/k-inverse-pairs-array/" target="_blank" rel="noopener">https://leetcode.com/contest/leetcode-weekly-contest-38/problems/k-inverse-pairs-array/</a></p>
<div class="bs-callout bs-callout-info"><h4 id="K-Inverse-Pairs-Array"><a href="#K-Inverse-Pairs-Array" class="headerlink" title=" K Inverse Pairs Array"></a><i class="fa fa-info-circle"></i> K Inverse Pairs Array</h4><p>Given two integers <code>n</code> and <code>k</code>, find how many different arrays consist of numbers from <code>1</code> to <code>n</code> such that there are exactly <code>k</code> inverse pairs.</p>
<p>We define an inverse pair as following: For ith and jth element in the array, if <code>i &lt; j</code>and <code>a[i] &gt; a[j]</code> then it’s an inverse pair; Otherwise, it’s not.</p>
<p>Since the answer may very large, the answer should be modulo <code>10^9 + 7</code>.</p>
<p><strong>Example 1</strong>:<br>Input: n = 3, k = 0<br>Output: 1<br>Explanation:<br>Only the array [1,2,3] which consists of numbers from 1 to 3 has exactly 0 inverse pair.</p>
<p><strong>Example 2</strong>:<br>Input: n = 3, k = 1<br>Output: 2<br>Explanation:<br>The array [1,3,2] and [2,1,3] have exactly 1 inverse pair.</p>
<p><strong>Note:</strong><br>The integer <code>n</code> is in the range [1, 1000] and <code>k</code> is in the range [0, 1000].</p>
</div>
<p>这个一开始我想的是递归，假设这个函数为$f(n,k)$，比较容易看出$f(n+1,k)$和$f(n,k),f(n,k-1),\ldots f(n,k-n)$之间的关系:</p>
<p>现在把$n+1$在数组的位置固定在第$n+1$位，那么$k$对逆就要在$[1,\ldots,n]$中产生，即这种条件下可以有$f(n,k)$中数组。</p>
<p>把$n+1$在数组的位置固定在第$n$位，那至少和第$n+1$已经形成一对逆，剩下的$k-1$对也要在$[1,\ldots,n]$中产生，即有$f(n,k-1)$</p>
<p>……</p>
<p>如果把$n+1$放在第一位，那就已经和后面$n$位形成了$n$对逆了，后面这些数再排出$k-n$对即可，即有$f(n,n-k)$</p>
<p>综上所述$$f(n+1,k)=\sum\limits_{j = n -k}^{k} {f(n,j)}$$显然可能出现$f$的第二个参数为负数的情况，也就是$n&lt;k-1$，对应的意义就是把$n$放的太前不用再排其他数就已经凑够了$k$对逆，那么很显然这些位置代表的情况就不用算了直接置为0就行。不过这个递归关系写出来调用的函数次数真是有点多了，再加上$k$这个维度，其实考虑动态规划更加现实。接下来我们用$k+1$替换掉上式的$k$得到$$f(n+1,k+1)=\sum\limits_{j = n - (k+1) }^{k+1} {f(n,j)}$$<br>再用这个等式减去上面的等式有：<br>$$f(n+1,k+1)=f(n,k+1)+f(n+1,k)-f(n,n-k)$$<br>我想我的意思已经很明确了，不过这里比较需要费心的地方是边界条件，更功利的说是一开始作为基石的那几个需要自己规定的函数值。比如对于</p>
<ul>
<li>$n=0$ 时函数值都要置为0</li>
<li>$k=0$ 时函数值规定为1</li>
<li>$k&gt;n(n-1)/2$时函数值为0 取等号时为1</li>
<li>刚刚说到的函数参数为负的问题</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kInversePairs</span><span class="params">(self, n, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> k &gt; n*(n<span class="number">-1</span>)/<span class="number">2</span> <span class="keyword">or</span> k&lt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> k==n*(n<span class="number">-1</span>)/<span class="number">2</span> <span class="keyword">or</span> k==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        d=[[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(k+<span class="number">1</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> range(n+<span class="number">1</span>)]</span><br><span class="line">        mod=<span class="number">10</span>**<span class="number">9</span>+<span class="number">7</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(min(n*(n<span class="number">-1</span>)/<span class="number">2</span>,k)+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> j==<span class="number">0</span> <span class="keyword">or</span> j==i*(i<span class="number">-1</span>)/<span class="number">2</span>:</span><br><span class="line">                    d[i][j]=<span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> j&gt;i*(i<span class="number">-1</span>)/<span class="number">2</span>:</span><br><span class="line">                    d[i][j]=<span class="number">0</span></span><br><span class="line">                <span class="keyword">elif</span> j&gt;=i:</span><br><span class="line">                    d[i][j]=d[i][j<span class="number">-1</span>]+d[i<span class="number">-1</span>][j]-d[i<span class="number">-1</span>][j-i]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    d[i][j]=d[i][j<span class="number">-1</span>]+d[i<span class="number">-1</span>][j]</span><br><span class="line">                d[i][j]=d[i][j]%mod</span><br><span class="line">        <span class="keyword">return</span> d[n][k]</span><br></pre></td></tr></table></figure>
<p>我写这个的时候遇到了比较少见的MLE错误，起初我也在想这种规模的二维数组也能MLE吗，后来加了那句<code>d[i][j]=d[i][j]%mod</code>就过了，原因是数据值本身太大了，仔细看题目说过要返回取模以后的数，其实学过密码学就会觉得对于只涉及加减乘的运算来说取模是每步运算都取还是只有最后返回取对于结果没什么影响，所以没必要担心，大胆地在每次计算后都取一下模吧。</p>
<h2 id="Design-Excel-Sum-Formula"><a href="#Design-Excel-Sum-Formula" class="headerlink" title="Design Excel Sum Formula"></a>Design Excel Sum Formula</h2><p>原题地址 <a href="https://leetcode.com/contest/leetcode-weekly-contest-38/problems/design-excel-sum-formula/" target="_blank" rel="noopener">https://leetcode.com/contest/leetcode-weekly-contest-38/problems/design-excel-sum-formula/</a><br>因为题实在太长了我就不重新贴了，我之前说过其实这题不怎么需要动脑，暴力码就行。比较容易出错的是<code>int Sum(int row, char column, List of Strings : numbers)</code>要求被设置成存放求和结果的那个单元<code>(r,c)</code>是动态的，调用过一次<code>Sum</code>后，如果求和函数的范围内的单元的值发生了变化，<code>(r,c)</code>也要随之变化。而<code>(r,c)</code>再被调用<code>Sum</code>或者<code>Set</code>函数改变值时，原来的公式定义才会被覆盖。</p>
<p>我们没文化的人就是这个样子，不会用什么精巧的方法，在<code>Excel</code>类内定义了一个成员字典<code>formula</code>维护被赋予的函数定义，每次有任何单元的值发生变化时先检查字典里面这个函数有没有被作为其他那个求和函数的成员，如果有，就顺便重新在哪个被定义的单元上更改求和结果。至于怎样区别是直接命令更改的单元值，还是因为定义范围内的单元变化导致的这个单元的变化，我是通过修改了<code>Set</code>函数原型，增加了一个默认参数区分是直接调用还是其他函数的调用引起的调用，当然我不建议好孩子学这种做法，如果不修改函数原型，可以添加一个成员来标识这次的调用是不是由于其他函数的调用引发的。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Excel</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, H,W)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type H: int</span></span><br><span class="line"><span class="string">        :type W: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.H=H</span><br><span class="line">        self.W=ord(W)-ord(<span class="string">'A'</span>)+<span class="number">1</span></span><br><span class="line">        self.c=[[<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> range(self.W)] <span class="keyword">for</span> i <span class="keyword">in</span> range(self.H)]</span><br><span class="line">        self.formula=dict()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set</span><span class="params">(self, r, c, v,user=True)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type r: int</span></span><br><span class="line"><span class="string">        :type c: str</span></span><br><span class="line"><span class="string">        :type v: int</span></span><br><span class="line"><span class="string">        :rtype: void</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        temp=<span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> user <span class="keyword">and</span> (r,c) <span class="keyword">in</span> self.formula:</span><br><span class="line">            self.formula[r,c]=[]</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span>&lt;r&lt;=self.H <span class="keyword">and</span> ord(<span class="string">'A'</span>)&lt;=ord(c)&lt;ord(<span class="string">'A'</span>)+self.W:</span><br><span class="line">            temp=self.c[r<span class="number">-1</span>][ord(c)-ord(<span class="string">'A'</span>)]</span><br><span class="line">            self.c[r<span class="number">-1</span>][ord(c)-ord(<span class="string">'A'</span>)]=v</span><br><span class="line">        <span class="keyword">for</span> (r0,c0) <span class="keyword">in</span> self.formula:</span><br><span class="line">            <span class="keyword">if</span> (r,c) <span class="keyword">in</span> self.formula[(r0,c0)]:</span><br><span class="line">                val=self.get(r0,c0)</span><br><span class="line">                self.set(r0,c0,val+(v-temp)*self.formula[(r0,c0)].count((r,c)),<span class="keyword">False</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, r, c)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type r: int</span></span><br><span class="line"><span class="string">        :type c: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span>&lt;r&lt;=self.H <span class="keyword">and</span> ord(<span class="string">'A'</span>)&lt;=ord(c)&lt;ord(<span class="string">'A'</span>)+self.W:</span><br><span class="line">            <span class="keyword">return</span> self.c[r<span class="number">-1</span>][ord(c)-ord(<span class="string">'A'</span>)]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(self, r, c, strs)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type r: int</span></span><br><span class="line"><span class="string">        :type c: str</span></span><br><span class="line"><span class="string">        :type strs: List[str]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.formula[r,c]=[]</span><br><span class="line">        s=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> cal <span class="keyword">in</span> strs:</span><br><span class="line">            points=cal.split(<span class="string">':'</span>)</span><br><span class="line">            <span class="keyword">if</span> len(points)&lt;<span class="number">2</span>:</span><br><span class="line">                s+=self.get(int(points[<span class="number">0</span>][<span class="number">1</span>:]),points[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">                self.formula[(r,c)].append((int(points[<span class="number">0</span>][<span class="number">1</span>:]),points[<span class="number">0</span>][<span class="number">0</span>]))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                start=points[<span class="number">0</span>]</span><br><span class="line">                end=points[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(int(start[<span class="number">1</span>:]),int(end[<span class="number">1</span>:])+<span class="number">1</span>):</span><br><span class="line">                    <span class="keyword">for</span> j <span class="keyword">in</span> range(ord(start[<span class="number">0</span>]),ord(end[<span class="number">0</span>])+<span class="number">1</span>):</span><br><span class="line">                        s+=self.get(i,chr(j))</span><br><span class="line">                        self.formula[(r,c)].append((i,chr(j)))</span><br><span class="line">        self.set(r,c,s,<span class="keyword">False</span>)</span><br><span class="line">        <span class="keyword">return</span> self.get(r,c)</span><br></pre></td></tr></table></figure>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="http://courses.cs.vt.edu/cs5114/spring2009/lectures/lecture04-greedy-scheduling.pdf" target="_blank" rel="noopener">http://courses.cs.vt.edu/cs5114/spring2009/lectures/lecture04-greedy-scheduling.pdf</a> 从第26页开始可以看到这个策略及其证明</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-38/" data-id="cjo2to98s000sugw3it8iw7y8" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      <!-- 
        <a href="#disqus_thread" class="article-comment-link">
        <i class="fa fa-comment"></i> Comments
        </a>
       -->
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/贪心算法/">贪心算法</a></li></ul>


    </footer>
  </div>
  
    
<ul id="article-nav" class="nav nav-pills nav-justified">
  
  <li role="presentation">
    <a href="/Introduction/illustrations/" id="article-nav-older" class="article-nav-link-wrap">
      <i class="fa fa-chevron-left pull-left"></i>
      <span class="article-nav-link-title">灵魂画手的插画集</span>
    </a>
  </li>
  
  
  <li role="presentation">
    <a href="/LeetCode/LeetCode-Weekly-Contest-39/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-link-title">LeetCode Weekly Contest 39</span>
      <i class="fa fa-chevron-right pull-right"></i>
    </a>
  </li>
  
</ul>


  
</article>


<!-- 
<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
 -->

  <div id="comments"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
    owner: 'Lixinyi-DUT',
    repo: 'TuQiang-Street-301',
    oauth: {
      client_id: '0a613b11d9140b2629e0',
      client_secret: 'b6ee57129a892f87bbac149167a90cf1a8035a47',
      id: 'Wed Jun 28 2017 15:28:00 GMT+0800',
    },
  })
  gitment.render('comments')
  </script>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-toc">
    <h4>概览</h4>
    <ol class="sidebar-module-list"><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Maximum-Product-of-Three-Numbers"><span class="sidebar-module-list-number">1.</span> <span class="sidebar-module-list-text">Maximum Product of Three Numbers</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Course-Schedule-III"><span class="sidebar-module-list-number">2.</span> <span class="sidebar-module-list-text">Course Schedule III</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#K-Inverse-Pairs-Array"><span class="sidebar-module-list-number">3.</span> <span class="sidebar-module-list-text">K Inverse Pairs Array</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Design-Excel-Sum-Formula"><span class="sidebar-module-list-number">4.</span> <span class="sidebar-module-list-text">Design Excel Sum Formula</span></a></li></ol>
  </div>



  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>失败作者的另一个博客<a href="http://yangzhou301.xyli.me/" style="text-decoration:none;">扬州计划</a> </p><p>谢谢各位长久以来的关怀。</p><p>微信公众号</p><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/qrcode.png"  style="width:215px;height:215px;" align="middle"><p>联系作者<em><a href="mailto:wolixinyi@gmail.com" style="text-decoration:none;"><i class="fa fa-envelope-o"></i>wolixinyi@gmail.com</a></em></p>
</div>


  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/CS161/">CS161</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Deutsche101/">Deutsche101</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Introduction/">Introduction</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/LeetCode/">LeetCode</a><span class="sidebar-module-list-count">50</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/MIT6-042/">MIT6.042</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/SICP/">SICP</a><span class="sidebar-module-list-count">6</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-tags">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/DrRacket/">DrRacket</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/LaTeX/">LaTeX</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/书评/">书评</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/函数式编程/">函数式编程</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/动态规划/">动态规划</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/失败/">失败</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/德语/">德语</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/数字电路/">数字电路</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/约束编程/">约束编程</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/组合数学/">组合数学</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/规划问题/">规划问题</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/语种介绍/">语种介绍</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/贪心算法/">贪心算法</a><span class="sidebar-module-list-count">2</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/DrRacket/" style="font-size: 15px;">DrRacket</a> <a href="/tags/LaTeX/" style="font-size: 10px;">LaTeX</a> <a href="/tags/书评/" style="font-size: 10px;">书评</a> <a href="/tags/函数式编程/" style="font-size: 20px;">函数式编程</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/失败/" style="font-size: 10px;">失败</a> <a href="/tags/德语/" style="font-size: 10px;">德语</a> <a href="/tags/数字电路/" style="font-size: 10px;">数字电路</a> <a href="/tags/约束编程/" style="font-size: 10px;">约束编程</a> <a href="/tags/组合数学/" style="font-size: 10px;">组合数学</a> <a href="/tags/规划问题/" style="font-size: 10px;">规划问题</a> <a href="/tags/语种介绍/" style="font-size: 10px;">语种介绍</a> <a href="/tags/贪心算法/" style="font-size: 15px;">贪心算法</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/11/">十一月 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/10/">十月 2018</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/09/">九月 2018</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/08/">八月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/07/">七月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/06/">六月 2018</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/05/">五月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/04/">四月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/03/">三月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">二月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">一月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">十二月 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">十月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">八月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">七月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">六月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">十月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">九月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/1990/05/">五月 1990</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-recents">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-109/">LeetCode Weekly Contest 109</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-108/">LeetCode Weekly Contest 108</a>
        </li>
      
        <li>
          <a href="/SICP/local-bindings-and-internal-definitions/">局部绑定和内部定义</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-107/">LeetCode Weekly Contest 107</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-106/">LeetCode Weekly Contest 106</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2018 Xinyi Li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'notebook-xyli-me';
  
  var disqus_url = 'notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-38/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/github.min.css" integrity="sha384-WtUWHyk39lfUpZQVgokNfSKCJaKAeD6adgLduBLrKTMUuPzFhLtL23y1guFy6lZn" crossorigin="anonymous">
  <script src="/highlight/highlight.pack.js"></script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>

<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>LeetCode Weekly Contest 63 | 笔记仓库</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="因为很久没刷题了没法判断这周的难度，根据其他用户的完成情况我觉得应该是中规中矩的难度吧。本来昨天准备参加一次周赛的，因为睡的太晚梦到自己未来既没有学上又找不到工作的真实惨状，由于过于真实以至于我一直没意识到是梦境所以就睡过了开赛时间（真是拙劣的偷懒理由，活该失业失学）所以我只把题做了一遍，只写下自己的想法，好了废话不多">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode Weekly Contest 63">
<meta property="og:url" content="notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-63/index.html">
<meta property="og:site_name" content="笔记仓库">
<meta property="og:description" content="因为很久没刷题了没法判断这周的难度，根据其他用户的完成情况我觉得应该是中规中矩的难度吧。本来昨天准备参加一次周赛的，因为睡的太晚梦到自己未来既没有学上又找不到工作的真实惨状，由于过于真实以至于我一直没意识到是梦境所以就睡过了开赛时间（真是拙劣的偷懒理由，活该失业失学）所以我只把题做了一遍，只写下自己的想法，好了废话不多说了，赶紧看题吧">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/1.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/2.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/3.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/4.png">
<meta property="og:updated_time" content="2017-12-22T14:40:21.309Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode Weekly Contest 63">
<meta name="twitter:description" content="因为很久没刷题了没法判断这周的难度，根据其他用户的完成情况我觉得应该是中规中矩的难度吧。本来昨天准备参加一次周赛的，因为睡的太晚梦到自己未来既没有学上又找不到工作的真实惨状，由于过于真实以至于我一直没意识到是梦境所以就睡过了开赛时间（真是拙劣的偷懒理由，活该失业失学）所以我只把题做了一遍，只写下自己的想法，好了废话不多说了，赶紧看题吧">
<meta name="twitter:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/1.png">
<meta name="twitter:creator" content="@yangzhou301">
  
    <link rel="alternate" href="/atom.xml" title="笔记仓库" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83527033-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2215e0ea4875ead3c44e8c3e379722a4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">笔记仓库</h1>
  
    <p class="lead blog-description">正常人的正常笔记集</p>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          <article id="post-LeetCode-Weekly-Contest-63" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 class="article-title" itemprop="name">
      LeetCode Weekly Contest 63
    </h1>
  


    <meta name="ujianVerification" content="542ffd85bb968154b1190d5d92d59cef" />
  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/LeetCode/LeetCode-Weekly-Contest-63/" class="article-date"><time datetime="2017-12-17T13:47:35.194Z" itemprop="datePublished">2017-12-17</time></a>
</div>

    <div class="article-author">Xinyi Li</div>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/LeetCode/">LeetCode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>因为很久没刷题了没法判断这周的难度，根据其他用户的完成情况我觉得应该是中规中矩的难度吧。本来昨天准备参加一次周赛的，因为睡的太晚梦到自己未来既没有学上又找不到工作的真实惨状，由于过于真实以至于我一直没意识到是梦境所以就睡过了开赛时间<del>（真是拙劣的偷懒理由，活该失业失学）</del>所以我只把题做了一遍，只写下自己的想法，好了废话不多说了，赶紧看题吧</p>
<a id="more"></a>
<p><a href="https://leetcode.com/contest/weekly-contest-63/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-63/</a></p>
<h2 id="Min-Cost-Climbing-Stairs"><a href="#Min-Cost-Climbing-Stairs" class="headerlink" title="Min Cost Climbing Stairs"></a>Min Cost Climbing Stairs</h2><p>原题地址 <a href="https://leetcode.com/contest/weekly-contest-63/problems/min-cost-climbing-stairs/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-63/problems/min-cost-climbing-stairs/</a></p>
<blockquote>
<p>On a staircase, the <code>i</code>-th step has some non-negative cost <code>cost[i]</code> assigned (0 indexed).</p>
<p>Once you pay the cost, you can either climb one or two steps. You need to find minimum cost to reach the top of the floor, and you can either start from the step with index 0, or the step with index 1.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: cost = [10, 15, 20]</span><br><span class="line">Output: 15</span><br><span class="line">Explanation: Cheapest is start on cost[1], pay that cost and go to the top.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: cost = [1, 100, 1, 1, 1, 100, 1, 1, 100, 1]</span><br><span class="line">Output: 6</span><br><span class="line">Explanation: Cheapest is start on cost[0], and only step on 1s, skipping cost[3].</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li>cost will have a length in the range <code>[2, 1000]</code>.</li>
<li>Every cost[i] will be an integer in the range <code>[0, 999]</code>.</li>
</ol>
</blockquote>
<p>这题没有什么特别的地方，就是非常典型的动态规划题。既然一次能走1-2级，那么走到第<code>i</code>级阶梯(<code>i&gt;2</code>)，要么经过第<code>i-1</code>级要么通过第<code>i-2</code>级，假设已经知道了到第<code>i-1</code>级和第<code>i-2</code>的最小总代价<code>minCost</code>，再分别加上它们本身的代价就可以得到到第<code>i</code>级的两种方法分别需要的总代价，取<code>minCost[i-1]+cost[i-1]</code>和<code>minCost[i-2]+cost[i-2]</code>中较小的一个即可得到<code>minCost[i]</code>，代码如下</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostClimbingStairs</span><span class="params">(self, cost)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type cost: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        minCost=[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(cost)+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,len(cost)+<span class="number">1</span>):</span><br><span class="line">            minCost[i]=min(minCost[i<span class="number">-2</span>]+cost[i<span class="number">-2</span>],minCost[i<span class="number">-1</span>]+cost[i<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> minCost[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<p>如上所示，时间和空间复杂度都是线性的。</p>
<p>需要注意的是，<code>cost</code>列表的最后一个元素并不是终点，只是通向终点最后一级阶梯，所以最后需要计算到<code>minCost[i]</code>。另外，对于这样的一维动态规划，其实很显然是没有太大必要另开一个列表的，常数级的辅助空间（3个临时变量）足够，但我为了写起来方便还是偷懒这么写了，我是坏榜样，请大家尽量不要这么做。</p>
<h2 id="Shortest-Completing-Word"><a href="#Shortest-Completing-Word" class="headerlink" title="Shortest Completing Word"></a>Shortest Completing Word</h2><p>原题地址 <a href="https://leetcode.com/contest/weekly-contest-63/problems/shortest-completing-word/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-63/problems/shortest-completing-word/</a></p>
<blockquote>
<p>Find the minimum length word from a given dictionary <code>words</code>, which has all the letters from the string <code>licensePlate</code>. Such a word is said to complete the given string <code>licensePlate</code></p>
<p>Here, for letters we ignore case. For example, <code>&quot;P&quot;</code> on the licensePlate still matches <code>&quot;p&quot;</code> on the word.</p>
<p>It is guaranteed an answer exists. If there are multiple answers, return the one that occurs first in the array.</p>
<p>The license plate might have the same letter occurring multiple times. For example, given a licensePlate of <code>&quot;PP&quot;</code>, the word <code>&quot;pair&quot;</code> does not complete the licensePlate, but the word <code>&quot;supper&quot;</code> does.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: licensePlate = &quot;1s3 PSt&quot;, words = [&quot;step&quot;, &quot;steps&quot;, &quot;stripe&quot;, &quot;stepple&quot;]</span><br><span class="line">Output: &quot;steps&quot;</span><br><span class="line">Explanation: The smallest length word that contains the letters &quot;S&quot;, &quot;P&quot;, &quot;S&quot;, and &quot;T&quot;.</span><br><span class="line">Note that the answer is not &quot;step&quot;, because the letter &quot;s&quot; must occur in the word twice.</span><br><span class="line">Also note that we ignored case for the purposes of comparing whether a letter exists in the word.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: licensePlate = &quot;1s3 456&quot;, words = [&quot;looks&quot;, &quot;pest&quot;, &quot;stew&quot;, &quot;show&quot;]</span><br><span class="line">Output: &quot;pest&quot;</span><br><span class="line">Explanation: There are 3 smallest length words that contains the letters &quot;s&quot;.</span><br><span class="line">We return the one that occurred first.</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li><code>licensePlate</code> will be a string with length in range <code>[1, 7]</code>.</li>
<li><code>licensePlate</code> will contain digits, spaces, or letters (uppercase or lowercase).</li>
<li><code>words</code> will have a length in the range <code>[10, 1000]</code>.</li>
<li>Every <code>words[i]</code> will consist of lowercase letters, and have length in range <code>[1, 15]</code></li>
</ol>
</blockquote>
<p>我个人感觉这就是在考察字符串操作，虽然这题的标签是hash表。我个人的做法是统计<code>licensePlate</code>中各字母出现的频数，再找<code>words</code>列表中符合这个最低频数的最小字符串。<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shortestCompletingWord</span><span class="params">(self, licensePlate, words)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type licensePlate: str</span></span><br><span class="line"><span class="string">        :type words: List[str]</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        obj=string.lower(<span class="string">''</span>.join(filter(<span class="keyword">lambda</span> c:c.isalpha(),licensePlate)))</span><br><span class="line">        d=dict()</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> obj:</span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> d:</span><br><span class="line">                d[c]=string.count(obj,c)</span><br><span class="line">        shortest=<span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> words:</span><br><span class="line">            flag=<span class="keyword">True</span></span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> d:</span><br><span class="line">                <span class="keyword">if</span> d[c] &gt; string.count(w,c):</span><br><span class="line">                    flag=<span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> flag:</span><br><span class="line">                <span class="keyword">if</span>  len(shortest)==<span class="number">0</span> <span class="keyword">or</span> len(shortest)&gt;len(w):</span><br><span class="line">                    shortest=w</span><br><span class="line">        <span class="keyword">return</span> shortest</span><br></pre></td></tr></table></figure></p>
<p>假设<code>licensePlate</code>长度为$m$，<code>words</code>长度为$N$，其中最长的字符串长度为$n$：使用字典统计频数的时间复杂度为$o(m)$，空间复杂度为$o(26)$也就是$o(1)$，在对比<code>words</code>中元素词频时，所用到的辅助空间也是常数级的，而时间则是$o(26 \times n \times N )$，考虑到$n \le 15$和$m \le 7$也可以直接当成常数忽略不计了，所以最终整个过程的时间复杂度为$o(N)$，是线性的，空间复杂度则为$o(1)$。</p>
<p>字典存字频某种意义上也算确实用了hash表。确实急着写所以写出来有点难看，而且我对字符串相关函数确实不熟悉就只能xjb写了，不过我看其他人写的虽然比我干净也是用的差不多的思路，也有考虑用正则表达式的，我因为很久没刷题都不知道现在允许用<code>re</code>了，有兴趣的可以直接去这题的讨论区看看，我不方便贴别人的代码。</p>
<h2 id="Number-Of-Corner-Rectangles"><a href="#Number-Of-Corner-Rectangles" class="headerlink" title="Number Of Corner Rectangles"></a>Number Of Corner Rectangles</h2><p>原题地址 <a href="https://leetcode.com/contest/weekly-contest-63/problems/number-of-corner-rectangles/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-63/problems/number-of-corner-rectangles/</a></p>
<blockquote>
<p>Given a grid where each entry is only 0 or 1, find the number of corner rectangles.</p>
<p>A corner rectangle is 4 distinct 1s on the grid that form an axis-aligned rectangle. Note that only the corners need to have the value 1. Also, all four 1s used must be distinct.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: grid =</span><br><span class="line">[[1, 0, 0, 1, 0],</span><br><span class="line"> [0, 0, 1, 0, 1],</span><br><span class="line"> [0, 0, 0, 1, 0],</span><br><span class="line"> [1, 0, 1, 0, 1]]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: There is only one corner rectangle, with corners grid[1][2], grid[1][4], grid[3][2], grid[3][4].</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: grid =</span><br><span class="line">[[1, 1, 1],</span><br><span class="line"> [1, 1, 1],</span><br><span class="line"> [1, 1, 1]]</span><br><span class="line">Output: 9</span><br><span class="line">Explanation: There are four 2x2 rectangles, four 2x3 and 3x2 rectangles, and one 3x3 rectangle.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: grid =</span><br><span class="line">[[1, 1, 1, 1]]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: Rectangles must have four distinct corners.</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li>The number of rows and columns of grid will each be in the range <code>[1, 200]</code>.</li>
<li>Each <code>grid[i][j]</code> will be either <code>0</code> or <code>1</code>.</li>
<li>The number of 1s in the grid will be at most <code>6000</code>.</li>
</ol>
</blockquote>
<p>这题我个人感觉不是很难解出结果，但是要非常当心所写的算法的复杂度，一不留神就会TLE，而且即使想出了相对高效的算法，也要留心实现的方法，要不也容易TLE，当然算法上可以说是八仙过海了，题目的限定不明确，没有明显很优秀的算法。</p>
<p>我的第一直觉就是<del>朴实无华的</del>暴力搜索，先把答案解出来再慢慢想<del>（我们没文化的人就是这个样子的.jpg 这也是我和大佬的区别）</del><br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/1.png" alt=""><br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countCornerRectangles</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type grid: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        row=len(grid)</span><br><span class="line">        col=len(grid[<span class="number">0</span>])</span><br><span class="line">        count=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> y0 <span class="keyword">in</span> range(row<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> x0 <span class="keyword">in</span> range(col<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">if</span> grid[y0][x0]==<span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">for</span> y1 <span class="keyword">in</span> range(y0+<span class="number">1</span>,row):</span><br><span class="line">                        <span class="keyword">if</span> grid[y1][x0]==<span class="number">1</span>:</span><br><span class="line">                            <span class="keyword">for</span> x1 <span class="keyword">in</span> range(x0+<span class="number">1</span>,col):</span><br><span class="line">                                <span class="keyword">if</span> grid[y0][x1]==<span class="number">1</span> <span class="keyword">and</span> grid[y1][x1]==<span class="number">1</span>:</span><br><span class="line">                                    count +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure></p>
<div class="bs-callout bs-callout-warning"><h4 id="Warning"><a href="#Warning" class="headerlink" title=" Warning"></a><i class="fa fa-exclamation-circle"></i> Warning</h4><p>注意上面那个提交毫不意外地是TLE，$o(r^2 c^2)$时间复杂度就问你怕不怕？是反面教材，请不要模仿。</p>
<p>注：$r$为矩阵行数，$c$为矩阵列数</p>
</div>
<p>接下来我思考的是这么大个矩阵里面<code>1</code>不超过6000个，是不是也算稀疏矩阵了<a name="sparse"></a>？那么考虑去用矩阵存储数据有点浪费，不如借助一个类似邻接列表的数据结构存放每行或者每列中<code>1</code>的位置。</p>
<p>接着遍历这些<code>1</code>，再考虑这些<code>1</code>与某个在它右下方的<code>1</code>能否组成一个矩形的对角线？<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/2.png" alt=""></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countCornerRectangles</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        row=len(grid)</span><br><span class="line">        col=len(grid[<span class="number">0</span>])</span><br><span class="line">        count=<span class="number">0</span></span><br><span class="line">        corner_row=[[] <span class="keyword">for</span> i <span class="keyword">in</span> range(row)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(row):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(col):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="number">1</span>:</span><br><span class="line">                    corner_row[i].append(j)</span><br><span class="line">        <span class="keyword">for</span> y0 <span class="keyword">in</span> range(row):</span><br><span class="line">            <span class="keyword">for</span> x0 <span class="keyword">in</span>  corner_row[y0]:</span><br><span class="line">                <span class="keyword">for</span> y1 <span class="keyword">in</span> range(y0+<span class="number">1</span>,row):</span><br><span class="line">                    <span class="keyword">for</span> x1 <span class="keyword">in</span> corner_row[y1]:</span><br><span class="line">                        <span class="keyword">if</span> x1&gt;x0 <span class="keyword">and</span> grid[y0][x1]==<span class="number">1</span> <span class="keyword">and</span> grid[y1][x0]==<span class="number">1</span>:</span><br><span class="line">                            count=count+<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>
<div class="bs-callout bs-callout-warning"><h4 id="Warning"><a href="#Warning" class="headerlink" title=" Warning"></a><i class="fa fa-exclamation-circle"></i> Warning</h4><p>注意上面那个提交也毫不意外地是个TLE，是反面示例，请不要模仿。</p>
<ol>
<li>辅助空间（即“邻接列表”）为$o(\max{(rc,re)})$，其中$e$为整个矩阵中<code>1</code>的个数</li>
<li>在“寻找矩阵的对角线”过程中，时间复杂度为$o(e^2)$</li>
<li>所以说我一个最大$200 \times 200$的矩阵有6000个1，怎么把我算到稀疏矩阵去了？我的数学老师听了想打死我吧，<a href="#sparse">上面</a>犯了非常严重的错误，请不要被我想当然的分析误导。因此可以说$e$和$rc$是近似数量级的规模了，我这一拍大腿的解法相比原来的暴力搜索并没有在复杂度上有什么优化，反而拖慢了。</li>
<li>我一时也想不到用什么好的数据结构去表示“右下”的元素，所以上面的遍历范围只规定了”下”，“右”还得靠<code>if</code>语句去判别。</li>
</ol>
</div>
<p>接下来我想对于确定的两行<code>y0</code>和<code>y1</code>，找到它们在有几个列<code>x</code>上的元素都为<code>1</code>，这些<code>(y0,x)</code>和<code>(y1,x)</code>即可两两组成一个矩形<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/3.png" alt=""><br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countCornerRectangles</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        row=len(grid)</span><br><span class="line">        col=len(grid[<span class="number">0</span>])</span><br><span class="line">        count=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> y0 <span class="keyword">in</span> range(row<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> y1 <span class="keyword">in</span> range(y0+<span class="number">1</span>,row):</span><br><span class="line">                ones=<span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> x <span class="keyword">in</span> range(col):</span><br><span class="line">                    <span class="keyword">if</span> grid[y0][x]==<span class="number">1</span> <span class="keyword">and</span> grid[y1][x]==<span class="number">1</span>:</span><br><span class="line">                        ones+=<span class="number">1</span></span><br><span class="line">                  count+=ones*(ones<span class="number">-1</span>)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure></p>
<div class="bs-callout bs-callout-warning"><h4 id="Warning"><a href="#Warning" class="headerlink" title=" Warning"></a><i class="fa fa-exclamation-circle"></i> Warning</h4><p>不例外地，上面的提交又是一个TLE，容易看出时间复杂度为$o(r^2 c)$，其实到这里算法的复杂度上也真的没太大的优化余地了。还是那句话，看看就行，不要模仿，这不是什么好代码，只希望后来人别再犯我犯下的错误。</p>
</div>
<p>然后我按照完全一致的思路用C++又写了一遍<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countCornerRectangles</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row=grid.size();</span><br><span class="line">        <span class="keyword">int</span> col=grid[<span class="number">1</span>].size();</span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> ones=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> y0=<span class="number">0</span>;y0&lt;row<span class="number">-1</span>;y0++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> y1=y0+<span class="number">1</span>;y1&lt;row;y1++)&#123;</span><br><span class="line">                ones=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>;x&lt;col;x++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(grid[y0][x]&amp;&amp;grid[y1][x]) ones++;</span><br><span class="line">                &#125;</span><br><span class="line">                count+=ones*(ones<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>结果就被接受了。和其他人交流，发现也有人想到一样的算法，我看了他的Java代码也确实和我的想法基本一致，也成功地提交了。<del>我好气啊，我看你就是在针对我Python吧。</del>所以说就算有了思路，实现也很重要啊。</p>
<p>LeetCode的编辑推的<a href="https://leetcode.com/articles/number-of-corner-rectangles/" target="_blank" rel="noopener">题解</a>中第一种方法和提示也是用了大同小异的算法。每增加一行<code>y</code>时，如果有<code>x0</code>和<code>x1</code>列同时为<code>1</code>，那么增加多少个矩形？<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/4.png" alt=""><br>显然取决于<code>y</code>之前有多少行的<code>x0</code>和<code>x1</code>列同时为<code>1</code>，有多少就增加多少。这种想法与之前我给出的解法不谋而合，我们知道$$\sum\limits_{i = 0}^{n - 1} i  = C_n^2 = n\left( {n - 1} \right)/2$$不管是求和还是组合数，最后都是这个表达式。不过这个方法是固定了行，对列进行两层循环，所以时间复杂度是$o(rc^2)$，让我按他的思路写估计我又得TLE，但是这位作者很巧妙地借助了高效的计数器<code>collections.counter()</code>，作为妥协空间复杂度增加到了$o(c^2)$，但这完全是可以接受的。</p>
<p>虽然说对于刷题一般Python运行时性能不怎么占优势，但也可以利用一些高性能模块来弥补，比如这题可以用处理矩阵常用的<code>NumPy</code>的点乘方法计算两行有几个同列为<code>1</code>的元素，比如我的一个成功AC的提交<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countCornerRectangles</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type grid: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        m=np.array(grid)</span><br><span class="line">        counter=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (y0,y1) <span class="keyword">in</span> itertools.combinations(m,<span class="number">2</span>):</span><br><span class="line">            ones=np.dot(y0,y1)</span><br><span class="line">            counter+=ones*(ones<span class="number">-1</span>)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> int(counter)</span><br></pre></td></tr></table></figure></p>
<p>当然我写得不好，比较啰嗦。写的比较干净利落的方法可以见这位大佬的<a href="https://discuss.leetcode.com/topic/114267/1-liner-numpy" target="_blank" rel="noopener">一行题解</a>，用的是位与运算和等差数列求和，虽然稍慢于我的解法，但更清晰更优雅。</p>
<h2 id="Contain-Virus"><a href="#Contain-Virus" class="headerlink" title="Contain Virus"></a>Contain Virus</h2><p>原题地址：<a href="https://leetcode.com/contest/weekly-contest-63/problems/contain-virus/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-63/problems/contain-virus/</a></p>
<blockquote>
<p>A virus is spreading rapidly, and your task is to quarantine the infected area by installing walls.</p>
<p>The world is modeled as a 2-D array of cells, where <code>0</code> represents uninfected cells, and <code>1</code> represents cells contaminated with the virus. A wall (and only one wall) can be installed <strong>between any two 4-directionally</strong> adjacent cells, on the shared boundary.</p>
<p>Every night, the virus spreads to all neighboring cells in all four directions unless blocked by a wall. Resources are limited. Each day, you can install walls around only one region – the affected area (continuous block of infected cells) that threatens the most uninfected cells the following night. There will never be a tie.</p>
<p>Can you save the day? If so, what is the number of walls required? If not, and the world becomes fully infected, return the number of walls used.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Input: grid =</span><br><span class="line">[[0,1,0,0,0,0,0,1],</span><br><span class="line"> [0,1,0,0,0,0,0,1],</span><br><span class="line"> [0,0,0,0,0,0,0,1],</span><br><span class="line"> [0,0,0,0,0,0,0,0]]</span><br><span class="line">Output: 10</span><br><span class="line">Explanation:</span><br><span class="line">There are 2 contaminated regions.</span><br><span class="line">On the first day, add 5 walls to quarantine the viral region on the left. The board after the virus spreads is:</span><br><span class="line">[[0,1,0,0,0,0,1,1],</span><br><span class="line"> [0,1,0,0,0,0,1,1],</span><br><span class="line"> [0,0,0,0,0,0,1,1],</span><br><span class="line"> [0,0,0,0,0,0,0,1]]</span><br><span class="line">On the second day, add 5 walls to quarantine the viral region on the right. The virus is fully contained.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: grid =</span><br><span class="line">[[1,1,1],</span><br><span class="line"> [1,0,1],</span><br><span class="line"> [1,1,1]]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: Even though there is only one cell saved, there are 4 walls built.</span><br><span class="line">Notice that walls are only built on the shared boundary of two different cells.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: grid =</span><br><span class="line">[[1,1,1,0,0,0,0,0,0],</span><br><span class="line"> [1,0,1,0,1,1,1,1,1],</span><br><span class="line"> [1,1,1,0,0,0,0,0,0]]</span><br><span class="line">Output: 13</span><br><span class="line">Explanation: The region on the left only builds two new walls.</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li>The number of rows and columns of grid will each be in the range <code>[1, 50]</code>.</li>
<li>Each <code>grid[i][j]</code> will be either <code>0</code> or <code>1</code>.</li>
<li>Throughout the described process, there is always a contiguous viral region that will infect strictly more uncontaminated squares in the next round.</li>
</ol>
</blockquote>
<p>我不是很喜欢这题，一来这题我读了大半天每个字都认识连起来就不知道想表达什么了，而且这题刚出来的时候还有不少错，比如Example 3的结果当时给的是11而不是13；二来不知道这题意义何在，当你明白了题意会觉得这题确实不同于普通的算法题，考验的主要还是编程的耐心，比如<a href="https://discuss.leetcode.com/topic/114469/does-this-problem-require-the-most-lines-of-codes-on-leetcode" target="_blank" rel="noopener">有人</a>直接去评论区吐槽这题明明没难度还写到心态崩了；三来，我在写解法的时候正一边写一边处理一些因为我个人的错误导致的不愉快的事，所以我不太愿意仔细讨论这题，我也觉得没太大的讨论价值。直接给出我参考<a href="https://discuss.leetcode.com/topic/114353/self-explaining-python-solution" target="_blank" rel="noopener">Self-Explaining Python Solution</a>的想法写出的提交：<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">containVirus</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type grid: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span><span class="params">(visited,i,j,label)</span>:</span></span><br><span class="line">            queue=[(i,j)]</span><br><span class="line">            <span class="keyword">for</span> x,y <span class="keyword">in</span> queue:</span><br><span class="line">                <span class="keyword">if</span> grid[x][y]&gt;<span class="number">0</span>:</span><br><span class="line">                    grid[x][y]=label</span><br><span class="line">                    <span class="keyword">for</span> dx,dy <span class="keyword">in</span> adj:</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span> &lt;= x+dx &lt;row <span class="keyword">and</span> <span class="number">0</span> &lt;= y+dy &lt;col:</span><br><span class="line">                            <span class="keyword">if</span> visited[x+dx][y+dy]==<span class="number">0</span>:</span><br><span class="line">                                visited[x+dx][y+dy]=<span class="number">1</span></span><br><span class="line">                                queue.append((x+dx,y+dy))</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">regions</span><span class="params">()</span>:</span></span><br><span class="line">            visited=[[<span class="number">0</span>] * col <span class="keyword">for</span> _ <span class="keyword">in</span> range(row)]</span><br><span class="line">            label=<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(row):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(col):</span><br><span class="line">                    <span class="keyword">if</span> visited[i][j]==<span class="number">0</span>:</span><br><span class="line">                        visited[i][j]=<span class="number">1</span></span><br><span class="line">                        <span class="keyword">if</span> grid[i][j]&gt;<span class="number">0</span>:</span><br><span class="line">                            label+=<span class="number">1</span></span><br><span class="line">                            bfs(visited,i,j,label)</span><br><span class="line">            <span class="keyword">return</span> label</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">infect_range</span><span class="params">()</span>:</span></span><br><span class="line">            counter=collections.Counter()</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> range(row):</span><br><span class="line">                <span class="keyword">for</span> y <span class="keyword">in</span> range(col):</span><br><span class="line">                    <span class="keyword">if</span> grid[x][y]==<span class="number">0</span>:</span><br><span class="line">                        virus=set([grid[x+dx][y+dy] <span class="keyword">for</span> (dx,dy) <span class="keyword">in</span> adj <span class="keyword">if</span> <span class="number">0</span> &lt;= x+dx &lt;row <span class="keyword">and</span> <span class="number">0</span> &lt;= y+dy &lt;col <span class="keyword">and</span> grid[x+dx][y+dy]&gt;<span class="number">0</span>])</span><br><span class="line">                        counter+=collections.Counter(virus)</span><br><span class="line">            <span class="keyword">return</span> counter</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">set_walls</span><span class="params">(label)</span>:</span></span><br><span class="line">            walls=<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> range(row):</span><br><span class="line">                <span class="keyword">for</span> y <span class="keyword">in</span> range(col):</span><br><span class="line">                    <span class="keyword">if</span> grid[x][y]==label:</span><br><span class="line">                        grid[x][y]=<span class="number">-1</span></span><br><span class="line">                        walls+=sum([<span class="number">1</span> <span class="keyword">for</span> (dx,dy) <span class="keyword">in</span> adj <span class="keyword">if</span> <span class="number">0</span> &lt;= x+dx &lt;row <span class="keyword">and</span> <span class="number">0</span> &lt;= y+dy &lt;col <span class="keyword">and</span> grid[x+dx][y+dy]==<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">return</span> walls</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">infect</span><span class="params">()</span>:</span></span><br><span class="line">            grid_new=[[x <span class="keyword">for</span> x <span class="keyword">in</span> line] <span class="keyword">for</span> line <span class="keyword">in</span> grid]</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> range(row):</span><br><span class="line">                <span class="keyword">for</span> y <span class="keyword">in</span> range(col):</span><br><span class="line">                    <span class="keyword">if</span> grid[x][y]&gt;<span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">for</span> dx,dy <span class="keyword">in</span> adj:</span><br><span class="line">                            <span class="keyword">if</span> <span class="number">0</span> &lt;= x+dx &lt;row <span class="keyword">and</span> <span class="number">0</span> &lt;= y+dy &lt;col <span class="keyword">and</span> grid[x+dx][y+dy]==<span class="number">0</span>:</span><br><span class="line">                                grid_new[x+dx][y+dy]=grid[x][y]</span><br><span class="line">            <span class="keyword">return</span> grid_new</span><br><span class="line"></span><br><span class="line">        adj=[(<span class="number">-1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">-1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line">        row=len(grid)</span><br><span class="line">        col=len(grid[<span class="number">0</span>])</span><br><span class="line">        res=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            <span class="keyword">if</span> regions()&lt;=<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            c=infect_range()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> c:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            emergency_area=c.most_common(<span class="number">1</span>)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">            res+=set_walls(emergency_area)</span><br><span class="line">            grid=infect()</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></p>
<p>解题的想法非常直觉：</p>
<ol>
<li>用BFS或DFS找到图中的所有“连通分支”（即病毒区域）并进行原地标记数字</li>
<li>如果有没有活跃的病毒区域直接退出。找到未来污染范围最大的病毒区域，并在边界建墙，把里面的病毒标记为<code>-1</code>表示失活，如果已经没有未污染区域了则直接结束算法</li>
<li>让其他病毒区域继续传播</li>
<li>从步骤1开始重复</li>
</ol>
<p>确实知识性和技巧性的成分不大，有一种大学时期上机课要求做的订票系统排队系统之类的东西的感觉。所以最重要的还是耐心和细心，尤其是注意下时间和空间复杂度，特别是对于列表的操作需要各位小心。</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-63/" data-id="cjik0gpkw0004pgw3ttyhuy45" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      <!-- 
        <a href="#disqus_thread" class="article-comment-link">
        <i class="fa fa-comment"></i> Comments
        </a>
       -->
      

    </footer>
  </div>
  
    
<ul id="article-nav" class="nav nav-pills nav-justified">
  
  <li role="presentation">
    <a href="/SICP/function-of-function/" id="article-nav-older" class="article-nav-link-wrap">
      <i class="fa fa-chevron-left pull-left"></i>
      <span class="article-nav-link-title">函数的函数</span>
    </a>
  </li>
  
  
  <li role="presentation">
    <a href="/LeetCode/LeetCode-Weekly-Contest-64/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-link-title">LeetCode Weekly Contest 64</span>
      <i class="fa fa-chevron-right pull-right"></i>
    </a>
  </li>
  
</ul>


  
</article>


<!-- 
<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
 -->

  <div id="comments"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
    owner: 'Lixinyi-DUT',
    repo: 'TuQiang-Street-301',
    oauth: {
      client_id: '0a613b11d9140b2629e0',
      client_secret: 'b6ee57129a892f87bbac149167a90cf1a8035a47',
      id: 'Sun Dec 17 2017 21:47:35 GMT+0800',
    },
  })
  gitment.render('comments')
  </script>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-toc">
    <h4>概览</h4>
    <ol class="sidebar-module-list"><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Min-Cost-Climbing-Stairs"><span class="sidebar-module-list-number">1.</span> <span class="sidebar-module-list-text">Min Cost Climbing Stairs</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Shortest-Completing-Word"><span class="sidebar-module-list-number">2.</span> <span class="sidebar-module-list-text">Shortest Completing Word</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Number-Of-Corner-Rectangles"><span class="sidebar-module-list-number">3.</span> <span class="sidebar-module-list-text">Number Of Corner Rectangles</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Contain-Virus"><span class="sidebar-module-list-number">4.</span> <span class="sidebar-module-list-text">Contain Virus</span></a></li></ol>
  </div>



  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>本站作者是失败人士，另一个博客已关闭详情见<a href="http://notebook.xyli.me/Introduction/broken-project-yangzhou/" style="text-decoration:none;">失败的扬州计划</a> 投稿或其他事项的交流可联系作者<em><a href="mailto:wolixinyi@gmail.com" style="text-decoration:none;"><i class="fa fa-envelope-o"></i>wolixinyi@gmail.com</a></em></p>
</div>


  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/CS161/">CS161</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Deutsche101/">Deutsche101</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Introduction/">Introduction</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/LeetCode/">LeetCode</a><span class="sidebar-module-list-count">29</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/MIT6-042/">MIT6.042</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/SICP/">SICP</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-tags">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/LaTeX/">LaTeX</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/函数式编程/">函数式编程</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/动态规划/">动态规划</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/失败/">失败</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/德语/">德语</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/规划问题/">规划问题</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/语种介绍/">语种介绍</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/贪心算法/">贪心算法</a><span class="sidebar-module-list-count">2</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/LaTeX/" style="font-size: 10px;">LaTeX</a> <a href="/tags/函数式编程/" style="font-size: 10px;">函数式编程</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/失败/" style="font-size: 10px;">失败</a> <a href="/tags/德语/" style="font-size: 10px;">德语</a> <a href="/tags/规划问题/" style="font-size: 10px;">规划问题</a> <a href="/tags/语种介绍/" style="font-size: 10px;">语种介绍</a> <a href="/tags/贪心算法/" style="font-size: 20px;">贪心算法</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/06/">六月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/05/">五月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/04/">四月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/03/">三月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">二月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">一月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">十二月 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">十月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">八月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">七月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">六月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">十月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">九月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/1990/05/">五月 1990</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-recents">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-89/">LeetCode Weekly Contest 89</a>
        </li>
      
        <li>
          <a href="/MIT6-042/2017final/">试着做一下MIT 6.042的期末题</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-88/">LeetCode Weekly Contest 88</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-87/">LeetCode Weekly Contest 87</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-86/">LeetCode Weekly Contest 86</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2018 Xinyi Li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'notebook-xyli-me';
  
  var disqus_url = 'notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-63/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/github.min.css" integrity="sha384-WtUWHyk39lfUpZQVgokNfSKCJaKAeD6adgLduBLrKTMUuPzFhLtL23y1guFy6lZn" crossorigin="anonymous">
  <script src="/highlight/highlight.pack.js"></script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>

<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>LeetCode Weekly Contest 65 | 笔记仓库</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="提前祝新年快乐！本失败人士即将迎来另一个失败年，如我在扬州计划破产声明中所说，本站也即将在新的一年关闭，可以说是写一天少一天了，我也是怀着向死而生的心情在为自己的编程生涯写遗书呢。祝看到这篇文章的朋友们在新的一年里走向成功，除了我，大家都有光明的未来。今天因为回老家探亲，所以周赛例行划水，题做了下讲下我自己的想法。">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode Weekly Contest 65">
<meta property="og:url" content="notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-65/index.html">
<meta property="og:site_name" content="笔记仓库">
<meta property="og:description" content="提前祝新年快乐！本失败人士即将迎来另一个失败年，如我在扬州计划破产声明中所说，本站也即将在新的一年关闭，可以说是写一天少一天了，我也是怀着向死而生的心情在为自己的编程生涯写遗书呢。祝看到这篇文章的朋友们在新的一年里走向成功，除了我，大家都有光明的未来。今天因为回老家探亲，所以周赛例行划水，题做了下讲下我自己的想法。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-01-02T13:33:42.642Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode Weekly Contest 65">
<meta name="twitter:description" content="提前祝新年快乐！本失败人士即将迎来另一个失败年，如我在扬州计划破产声明中所说，本站也即将在新的一年关闭，可以说是写一天少一天了，我也是怀着向死而生的心情在为自己的编程生涯写遗书呢。祝看到这篇文章的朋友们在新的一年里走向成功，除了我，大家都有光明的未来。今天因为回老家探亲，所以周赛例行划水，题做了下讲下我自己的想法。">
<meta name="twitter:creator" content="@yangzhou301">
  
    <link rel="alternate" href="/atom.xml" title="笔记仓库" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83527033-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2215e0ea4875ead3c44e8c3e379722a4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">笔记仓库</h1>
  
    <p class="lead blog-description">正常人的正常笔记集</p>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          <article id="post-LeetCode-Weekly-Contest-65" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 class="article-title" itemprop="name">
      LeetCode Weekly Contest 65
    </h1>
  


    <meta name="ujianVerification" content="542ffd85bb968154b1190d5d92d59cef" />
  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/LeetCode/LeetCode-Weekly-Contest-65/" class="article-date"><time datetime="2017-12-31T12:33:12.577Z" itemprop="datePublished">2017-12-31</time></a>
</div>

    <div class="article-author">Xinyi Li</div>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/LeetCode/">LeetCode</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>提前祝新年快乐！本失败人士即将迎来另一个失败年，如我在<a href="http://notebook.xyli.me/Introduction/broken-project-yangzhou/">扬州计划破产声明</a>中所说，本站也即将在新的一年关闭，可以说是写一天少一天了，我也是怀着向死而生的心情在为自己的编程生涯写遗书呢。祝看到这篇文章的朋友们在新的一年里走向成功，除了我，大家都有光明的未来。今天因为回老家探亲，所以周赛例行划水，题做了下讲下我自己的想法。</p>
<a id="more"></a>
<p><a href="https://leetcode.com/contest/weekly-contest-65/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-65/</a></p>
<h2 id="Reach-a-Number"><a href="#Reach-a-Number" class="headerlink" title="Reach a Number"></a>Reach a Number</h2><p>原题地址 <a href="https://leetcode.com/contest/weekly-contest-65/problems/reach-a-number/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-65/problems/reach-a-number/</a></p>
<blockquote>
<p>You are standing at position <code>0</code> on an infinite number line. There is a goal at position <code>target</code>.</p>
<p>On each move, you can either go left or right. During the n-th move (starting from 1), you take n steps.</p>
<p>Return the minimum number of steps required to reach the destination.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: target = 3</span><br><span class="line">Output: 2</span><br><span class="line">Explanation:</span><br><span class="line">On the first move we step from 0 to 1.</span><br><span class="line">On the second step we step from 1 to 3.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: target = 2</span><br><span class="line">Output: 3</span><br><span class="line">Explanation:</span><br><span class="line">On the first move we step from 0 to 1.</span><br><span class="line">On the second move we step  from 1 to -1.</span><br><span class="line">On the third move we step from -1 to 2.</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li>target will be a non-zero integer in the range <code>[-10^9, 10^9]</code>.</li>
</ol>
</blockquote>
<p>容易看出，这题对正负数的处理是对称的，所以暂时不需要考虑符号问题，直接取绝对值就行。简单的思路是先找到一个<code>n</code>使得<code>sum(n-1)&lt;target&lt;=sum(n)</code>，至于<code>sum(n)-target</code>可以靠<code>{0,1,....n}</code>中取若干个和为<code>sum(n)-target/2</code>的数取反抵消。当然如果<code>sum(n)-target</code>是个奇数，那就需要再加上<code>n+1</code>甚至<code>n+2</code>去凑齐这个偶数了。代码如下：<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reachNumber</span><span class="params">(self, target)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type target: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        step=<span class="number">0</span></span><br><span class="line">        acc=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> acc &lt; abs(target):</span><br><span class="line">            step +=<span class="number">1</span></span><br><span class="line">            acc += step</span><br><span class="line">        <span class="keyword">if</span> (abs(target)-acc)%<span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> step</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> step+<span class="number">1</span>+step%<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>复杂度主要来自于<code>step</code>（也就是<code>n</code>）自增循环，找到最小的<code>sum(n)=n(n-1)/2</code>恰好大于等于<code>target</code>显然需要$o(\sqrt {target} )$的时间复杂度。</p>
<h2 id="Pour-Water"><a href="#Pour-Water" class="headerlink" title="Pour Water"></a>Pour Water</h2><p>原题地址 <a href="https://leetcode.com/contest/weekly-contest-65/problems/pour-water/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-65/problems/pour-water/</a></p>
<blockquote>
<p>We are given an elevation map, <code>heights[i]</code> representing the height of the terrain at that index. The width at each index is 1. After <code>V</code> units of water fall at index <code>K</code>, how much water is at each index?</p>
<p>Water first drops at index <code>K</code> and rests on top of the highest terrain or water at that index. Then, it flows according to the following rules:</p>
<ol>
<li>If the droplet would eventually fall by moving left, then move left.</li>
<li>Otherwise, if the droplet would eventually fall by moving right, then move right.</li>
<li>Otherwise, rise at it’s current position.</li>
</ol>
<p>Here, “eventually fall” means that the droplet will eventually be at a lower level if it moves in that direction. Also, “level” means the height of the terrain plus any water in that column.<br>We can assume there’s infinitely high terrain on the two sides out of bounds of the array. Also, there could not be partial water being spread out evenly on more than 1 grid block - each unit of water has to be in exactly one block.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">Input: heights = [2,1,1,2,1,2,2], V = 4, K = 3</span><br><span class="line">Output: [2,2,2,3,2,2,2]</span><br><span class="line">Explanation:</span><br><span class="line">#       #</span><br><span class="line">#       #</span><br><span class="line">##  # ###</span><br><span class="line">#########</span><br><span class="line"> 0123456    &lt;- index</span><br><span class="line"></span><br><span class="line">The first drop of water lands at index K = 3:</span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#   w   #</span><br><span class="line">##  # ###</span><br><span class="line">#########</span><br><span class="line"> 0123456    </span><br><span class="line"></span><br><span class="line">When moving left or right, the water can only move to the same level or a lower level.</span><br><span class="line">(By level, we mean the total height of the terrain plus any water in that column.)</span><br><span class="line">Since moving left will eventually make it fall, it moves left.</span><br><span class="line">(A droplet &quot;made to fall&quot; means go to a lower height than it was at previously.)</span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#       #</span><br><span class="line">## w# ###</span><br><span class="line">#########</span><br><span class="line"> 0123456    </span><br><span class="line"></span><br><span class="line">Since moving left will not make it fall, it stays in place.  The next droplet falls:</span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#   w   #</span><br><span class="line">## w# ###</span><br><span class="line">#########</span><br><span class="line"> 0123456  </span><br><span class="line"></span><br><span class="line">Since the new droplet moving left will eventually make it fall, it moves left.</span><br><span class="line">Notice that the droplet still preferred to move left,</span><br><span class="line">even though it could move right (and moving right makes it fall quicker.)</span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#  w    #</span><br><span class="line">## w# ###</span><br><span class="line">#########</span><br><span class="line"> 0123456  </span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#       #</span><br><span class="line">##ww# ###</span><br><span class="line">#########</span><br><span class="line"> 0123456  </span><br><span class="line"></span><br><span class="line">After those steps, the third droplet falls.</span><br><span class="line">Since moving left would not eventually make it fall, it tries to move right.</span><br><span class="line">Since moving right would eventually make it fall, it moves right.</span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#   w   #</span><br><span class="line">##ww# ###</span><br><span class="line">#########</span><br><span class="line"> 0123456  </span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#       #</span><br><span class="line">##ww#w###</span><br><span class="line">#########</span><br><span class="line"> 0123456  </span><br><span class="line"></span><br><span class="line">Finally, the fourth droplet falls.</span><br><span class="line">Since moving left would not eventually make it fall, it tries to move right.</span><br><span class="line">Since moving right would not eventually make it fall, it stays in place:</span><br><span class="line"></span><br><span class="line">#       #</span><br><span class="line">#   w   #</span><br><span class="line">##ww#w###</span><br><span class="line">#########</span><br><span class="line"> 0123456  </span><br><span class="line"></span><br><span class="line">The final answer is [2,2,2,3,2,2,2]:</span><br><span class="line"></span><br><span class="line">    #    </span><br><span class="line"> #######</span><br><span class="line"> #######</span><br><span class="line"> 0123456</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: heights = [1,2,3,4], V = 2, K = 2</span><br><span class="line">Output: [2,3,3,4]</span><br><span class="line">Explanation:</span><br><span class="line">The last droplet settles at index 1, since moving further left would not cause it to eventually fall to a lower height.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: heights = [3,1,3], V = 5, K = 1</span><br><span class="line">Output: [4,4,4]</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li>heights will have length in <code>[1, 100]</code> and contain integers in <code>[0, 99]</code>.</li>
<li>V will be in range <code>[0, 2000]</code>.</li>
<li>K will be in range <code>[0, heights.length - 1]</code>.</li>
</ol>
</blockquote>
<p>题有点啰嗦，规则的陈述有些奇怪，但只要直接看给出的例子就差不多能明白它想要你做什么了。把水逐滴滴到某个坐标，如果左边存在一个比当前坐标还低的“极低点”（注意是局部最低而非全局）就滑到这个地方去，如果左边没有再这样考虑右边存在不存在这样的点，如果都没有也就是说当前坐标就是地势最低（尽管可能只是和周围持平）的点，就保留在原地。没有什么特别的算法，直接按照游戏规则暴力码就可以通过，我的提交如下<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pourWater</span><span class="params">(self, heights, V, K)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type heights: List[int]</span></span><br><span class="line"><span class="string">        :type V: int</span></span><br><span class="line"><span class="string">        :type K: int</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(i,d)</span>:</span></span><br><span class="line">            temp=i</span><br><span class="line">            <span class="keyword">while</span> <span class="number">0</span>&lt;=i+d&lt;len(heights):</span><br><span class="line">                <span class="keyword">if</span> heights[i+d]&lt;heights[i]:</span><br><span class="line">                    temp=i+d</span><br><span class="line">                <span class="keyword">elif</span> heights[i+d]&gt;heights[i]:</span><br><span class="line">                    <span class="keyword">if</span> heights[i]&lt;heights[temp]:</span><br><span class="line">                        <span class="keyword">return</span> i</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">return</span> temp</span><br><span class="line">                i += d</span><br><span class="line">            <span class="keyword">return</span> temp</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> V&gt;<span class="number">0</span>:</span><br><span class="line">            lowest=move(K,<span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">if</span> lowest==K:</span><br><span class="line">                lowest=move(K,<span class="number">1</span>)</span><br><span class="line">            heights[lowest]+=<span class="number">1</span></span><br><span class="line">            V-=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> heights</span><br></pre></td></tr></table></figure></p>
<p>时间复杂度为$o(V \times heights.length)$</p>
<h2 id="Pyramid-Transition-Matrix"><a href="#Pyramid-Transition-Matrix" class="headerlink" title="Pyramid Transition Matrix"></a>Pyramid Transition Matrix</h2><blockquote>
<p>We are stacking blocks to form a pyramid. Each block has a color which is a one letter string, like <code>&#39;Z&#39;</code>.</p>
<p>For every block of color <code>C</code> we place not in the bottom row, we are placing it on top of a left block of color <code>A</code> and right block of color <code>B</code>. We are allowed to place the block there only if <code>(A, B, C)</code> is an allowed triple.</p>
<p>We start with a bottom row of <code>bottom</code>, represented as a single string. We also start with a list of <code>allowed</code> triples allowed. Each allowed triple is represented as a string of length 3.</p>
<p>Return true if we can build the pyramid all the way to the top, otherwise false.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: bottom = &quot;XYZ&quot;, allowed = [&quot;XYD&quot;, &quot;YZE&quot;, &quot;DEA&quot;, &quot;FFF&quot;]</span><br><span class="line">Output: true</span><br><span class="line">Explanation:</span><br><span class="line">We can stack the pyramid like this:</span><br><span class="line">    A</span><br><span class="line">   / \</span><br><span class="line">  D   E</span><br><span class="line"> / \ / \</span><br><span class="line">X   Y   Z</span><br><span class="line"></span><br><span class="line">This works because (&apos;X&apos;, &apos;Y&apos;, &apos;D&apos;), (&apos;Y&apos;, &apos;Z&apos;, &apos;E&apos;), and (&apos;D&apos;, &apos;E&apos;, &apos;A&apos;) are allowed triples.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: bottom = &quot;XXYX&quot;, allowed = [&quot;XXX&quot;, &quot;XXY&quot;, &quot;XYX&quot;, &quot;XYY&quot;, &quot;YXZ&quot;]</span><br><span class="line">Output: false</span><br><span class="line">Explanation:</span><br><span class="line">We can&apos;t stack the pyramid to the top.</span><br><span class="line">Note that there could be allowed triples (A, B, C) and (A, B, D) with C != D.</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li>bottom will be a string with length in range <code>[2, 100]</code>.</li>
<li>allowed will have length in range <code>[0, 350]</code>.</li>
<li>Letters in all strings will be chosen from the set <code>{&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;}</code>.</li>
</ol>
</blockquote>
<p>我自己的第一反应是DFS，但是马上能明白在时间和空间上是不可行的。建议直接看<a href="https://leetcode.com/problems/pyramid-transition-matrix/solution/" target="_blank" rel="noopener">官方题解</a>的思路比较清晰，按照位操作的方法去标记每一个的可能性，7位二进制数每位分别代表一位数字在此能否取到，使用位或运算（<code>|</code>）把所有可能性放在同一个结点的位置。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pyramidTransition</span><span class="params">(self, bottom, allowed)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type bottom: str</span></span><br><span class="line"><span class="string">        :type allowed: List[str]</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        T=[[<span class="number">0</span>]*<span class="number">7</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">7</span>)]</span><br><span class="line">        <span class="keyword">for</span> a,b,c <span class="keyword">in</span> allowed:</span><br><span class="line">            T[ord(a)-ord(<span class="string">'A'</span>)][ord(b)-ord(<span class="string">'A'</span>)] |= <span class="number">1</span>&lt;&lt;(ord(c)-ord(<span class="string">'A'</span>))</span><br><span class="line"></span><br><span class="line">        candidate=[<span class="number">1</span>&lt;&lt;(ord(c)-ord(<span class="string">'A'</span>)) <span class="keyword">for</span> c <span class="keyword">in</span> bottom] <span class="comment"># possible next node list in each loop (level)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(bottom)<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(bottom)<span class="number">-1</span>-i):</span><br><span class="line">                temp=<span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">7</span>):</span><br><span class="line">                    <span class="keyword">if</span> (candidate[j] &gt;&gt; x) &amp; <span class="number">1</span>:</span><br><span class="line">                        <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">7</span>):</span><br><span class="line">                            <span class="keyword">if</span> (candidate[j+<span class="number">1</span>] &gt;&gt; y) &amp; <span class="number">1</span>:</span><br><span class="line">                                temp |= T[x][y]</span><br><span class="line">                candidate[j]=temp</span><br><span class="line">        <span class="keyword">return</span> bool(candidate[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>字母表即颜色数量为$A$，底部行即塔高度为$N$，那么所需的时间复杂度为$o(2^{2A}N^2)$，辅助空间则为$o(A^2)$</p>
<h2 id="Set-Intersection-Size-At-Least-Two"><a href="#Set-Intersection-Size-At-Least-Two" class="headerlink" title="Set Intersection Size At Least Two"></a>Set Intersection Size At Least Two</h2><p>原题地址 <a href="https://leetcode.com/contest/weekly-contest-65/problems/set-intersection-size-at-least-two/" target="_blank" rel="noopener">https://leetcode.com/contest/weekly-contest-65/problems/set-intersection-size-at-least-two/</a></p>
<blockquote>
<p>An integer interval <code>[a, b]</code> (for integers <code>a &lt; b</code>) is a set of all consecutive integers from <code>a</code> to <code>b</code>, including <code>a</code>and <code>b</code>.</p>
<p>Find the minimum size of a set S such that for every integer interval A in <code>intervals</code>, the intersection of S with A has size at least 2.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1, 3], [1, 4], [2, 5], [3, 5]]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation:</span><br><span class="line">Consider the set S = &#123;2, 3, 4&#125;.  For each interval, there are at least 2 elements from S in the interval.</span><br><span class="line">Also, there isn&apos;t a smaller size set that fulfills the above condition.</span><br><span class="line">Thus, we output the size of this set, which is 3.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1, 2], [2, 3], [2, 4], [4, 5]]</span><br><span class="line">Output: 5</span><br><span class="line">Explanation:</span><br><span class="line">An example of a minimum sized set is &#123;1, 2, 3, 4, 5&#125;.</span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong>:</p>
<ol>
<li><code>intervals</code> will have length in range <code>[1, 3000]</code>.</li>
<li><code>intervals[i]</code> will have length <code>2</code>, representing some integer interval.</li>
<li><code>intervals[i][j]</code> will be an integer in <code>[0, 10^8]</code>.<br>Discuss</li>
</ol>
</blockquote>
<p>虽然标记为<code>hard</code>难度但实际上做起来也并没有特别难。如果题目改为交集大小至少为1，那么我们很容易就能想到取每个区间的终点（起点也是同理）并去除那些终点本来就在<code>S</code>的区间。对于交集大小至少为2的情况，也可以使用相似的贪心算法，先把区间按终点大小<strong>升序</strong>排序，对于每个区间<code>[s,e]</code>观察区间内有几个数在<code>S</code>中：</p>
<ol>
<li>0：取最大的两个数放进<code>S</code></li>
<li>>=2：那么这个区间没有影响，忽略</li>
<li>1：如果这个数不是区间的终点，则把终点放进<code>S</code>；如果这个数就是区间的终点，则取终点前一位数</li>
</ol>
<p>这样尽量取区间内最大的两个数补足的做法，能保证处理下一个区间时（因为我们是按照<code>e</code>的升序排列），下个区间有最大的与<code>S</code>交集期望大小。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intersectionSizeTwo</span><span class="params">(self, intervals)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type intervals: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        intervals.sort(key = <span class="keyword">lambda</span> (s,e): e)</span><br><span class="line">        low,high,count=<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (s,e) <span class="keyword">in</span> intervals:</span><br><span class="line">            <span class="keyword">if</span> s&gt;high:</span><br><span class="line">                count+=<span class="number">2</span></span><br><span class="line">                low,high=e<span class="number">-1</span>,e</span><br><span class="line">            <span class="keyword">elif</span> s&gt;low:</span><br><span class="line">                count+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> high==e:</span><br><span class="line">                    low=high<span class="number">-1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    low=high</span><br><span class="line">                high=e</span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>
<p>时间复杂度主要来自于区间的排序和后面检查取值时的线性遍历，就直接按照排序取$o(n\log{n})$，空间复杂度为$o(1)$，$n$为区间数量</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-65/" data-id="cjg58icts000n9kw3s8cigtnp" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      <!-- 
        <a href="#disqus_thread" class="article-comment-link">
        <i class="fa fa-comment"></i> Comments
        </a>
       -->
      

    </footer>
  </div>
  
    
<ul id="article-nav" class="nav nav-pills nav-justified">
  
  <li role="presentation">
    <a href="/LeetCode/LeetCode-Weekly-Contest-64/" id="article-nav-older" class="article-nav-link-wrap">
      <i class="fa fa-chevron-left pull-left"></i>
      <span class="article-nav-link-title">LeetCode Weekly Contest 64</span>
    </a>
  </li>
  
  
  <li role="presentation">
    <a href="/LeetCode/LeetCode-Weekly-Contest-66/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-link-title">LeetCode Weekly Contest 66</span>
      <i class="fa fa-chevron-right pull-right"></i>
    </a>
  </li>
  
</ul>


  
</article>


<!-- 
<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
 -->

  <div id="comments"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
    owner: 'Lixinyi-DUT',
    repo: 'TuQiang-Street-301',
    oauth: {
      client_id: '0a613b11d9140b2629e0',
      client_secret: 'b6ee57129a892f87bbac149167a90cf1a8035a47',
    },
  })
  gitment.render('comments')
  </script>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-toc">
    <h4>概览</h4>
    <ol class="sidebar-module-list"><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Reach-a-Number"><span class="sidebar-module-list-number">1.</span> <span class="sidebar-module-list-text">Reach a Number</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Pour-Water"><span class="sidebar-module-list-number">2.</span> <span class="sidebar-module-list-text">Pour Water</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Pyramid-Transition-Matrix"><span class="sidebar-module-list-number">3.</span> <span class="sidebar-module-list-text">Pyramid Transition Matrix</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#Set-Intersection-Size-At-Least-Two"><span class="sidebar-module-list-number">4.</span> <span class="sidebar-module-list-text">Set Intersection Size At Least Two</span></a></li></ol>
  </div>



  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>本站作者是失败人士，另一个博客已关闭详情见<a href="http://notebook.xyli.me/Introduction/broken-project-yangzhou/" style="text-decoration:none;">失败的扬州计划</a> 投稿或其他事项的交流可联系作者<em><a href="mailto:wolixinyi@gmail.com" style="text-decoration:none;"><i class="fa fa-envelope-o"></i>wolixinyi@gmail.com</a></em></p>
</div>


  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/CS161/">CS161</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Deutsche101/">Deutsche101</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Introduction/">Introduction</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/LeetCode/">LeetCode</a><span class="sidebar-module-list-count">20</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/SICP/">SICP</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-tags">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/LaTeX/">LaTeX</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/函数式编程/">函数式编程</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/动态规划/">动态规划</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/失败/">失败</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/德语/">德语</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/规划问题/">规划问题</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/语种介绍/">语种介绍</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/贪心算法/">贪心算法</a><span class="sidebar-module-list-count">2</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/LaTeX/" style="font-size: 10px;">LaTeX</a> <a href="/tags/函数式编程/" style="font-size: 10px;">函数式编程</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/失败/" style="font-size: 10px;">失败</a> <a href="/tags/德语/" style="font-size: 10px;">德语</a> <a href="/tags/规划问题/" style="font-size: 10px;">规划问题</a> <a href="/tags/语种介绍/" style="font-size: 10px;">语种介绍</a> <a href="/tags/贪心算法/" style="font-size: 20px;">贪心算法</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/04/">四月 2018</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/03/">三月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">二月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">一月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">十二月 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">十月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">八月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">七月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">六月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">十月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">九月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/1990/05/">五月 1990</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-recents">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-80/">LeetCode Weekly Contest 80</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-79/">LeetCode Weekly Contest 79</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-78/">LeetCode Weekly Contest 78</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-77/">LeetCode Weekly Contest 77</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-76/">LeetCode Weekly Contest 76</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2018 Xinyi Li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'notebook-xyli-me';
  
  var disqus_url = 'notebook.xyli.me/LeetCode/LeetCode-Weekly-Contest-65/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/github.min.css" integrity="sha384-WtUWHyk39lfUpZQVgokNfSKCJaKAeD6adgLduBLrKTMUuPzFhLtL23y1guFy6lZn" crossorigin="anonymous">
  <script src="/highlight/highlight.pack.js"></script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>

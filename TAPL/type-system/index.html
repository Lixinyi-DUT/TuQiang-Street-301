<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>零基础开始读类型系统（Cardelli的type systems小结） | 笔记仓库</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="在找TAPL相关材料时，被豆瓣网友推荐先去读一下Luca Cardelli的这篇Type Systems1只有41页的小册子，当时粗略看了一下这个summary感觉很简洁易读，就放在阅读材料调查计划里差不多拖了一年没看，这两天因为一些原因找到不错的机会静下心来断断续续的读完了，观感上来说确实是让人读起来有瘾的东西，没有">
<meta property="og:type" content="article">
<meta property="og:title" content="零基础开始读类型系统（Cardelli的type systems小结）">
<meta property="og:url" content="notebook.xyli.me/TAPL/type-system/index.html">
<meta property="og:site_name" content="笔记仓库">
<meta property="og:description" content="在找TAPL相关材料时，被豆瓣网友推荐先去读一下Luca Cardelli的这篇Type Systems1只有41页的小册子，当时粗略看了一下这个summary感觉很简洁易读，就放在阅读材料调查计划里差不多拖了一年没看，这两天因为一些原因找到不错的机会静下心来断断续续的读完了，观感上来说确实是让人读起来有瘾的东西，没有特别痛苦的内容，基本上是符合直觉的。对于状态良好的，有一定编程语言使用经验的，对">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/fold-unfold.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/list.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/NatList.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/existential_type.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/boolinterface.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/boolmodule.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/open.png">
<meta property="og:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/expose.png">
<meta property="og:updated_time" content="2019-01-29T09:04:47.459Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="零基础开始读类型系统（Cardelli的type systems小结）">
<meta name="twitter:description" content="在找TAPL相关材料时，被豆瓣网友推荐先去读一下Luca Cardelli的这篇Type Systems1只有41页的小册子，当时粗略看了一下这个summary感觉很简洁易读，就放在阅读材料调查计划里差不多拖了一年没看，这两天因为一些原因找到不错的机会静下心来断断续续的读完了，观感上来说确实是让人读起来有瘾的东西，没有特别痛苦的内容，基本上是符合直觉的。对于状态良好的，有一定编程语言使用经验的，对">
<meta name="twitter:image" content="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/fold-unfold.png">
<meta name="twitter:creator" content="@yangzhou301">
  
    <link rel="alternate" href="/atom.xml" title="笔记仓库" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83527033-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2215e0ea4875ead3c44e8c3e379722a4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">笔记仓库</h1>
  
    <p class="lead blog-description">正常人的正常笔记集</p>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          <article id="post-type-system" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 class="article-title" itemprop="name">
      零基础开始读类型系统（Cardelli的type systems小结）
    </h1>
  


    <meta name="ujianVerification" content="542ffd85bb968154b1190d5d92d59cef" />
  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/TAPL/type-system/" class="article-date"><time datetime="2019-01-26T09:42:47.241Z" itemprop="datePublished">2019-01-26</time></a>
</div>

    <div class="article-author">Xinyi Li</div>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/TAPL/">TAPL</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>在找<a href="https://www.cis.upenn.edu/~bcpierce/tapl/" target="_blank" rel="noopener">TAPL</a>相关材料时，被豆瓣网友推荐先去读一下Luca Cardelli的这篇Type Systems<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>只有41页的小册子，当时粗略看了一下这个summary感觉很简洁易读，就放在阅读材料调查计划里差不多拖了一年没看，这两天因为一些原因找到不错的机会静下心来断断续续的读完了，观感上来说确实是让人读起来有瘾的东西，没有特别痛苦的内容，基本上是符合直觉的。对于状态良好的，有一定编程语言使用经验的，对符号逻辑有基本了解，但对编程语言类型系统没有系统性认知的人来说，原文预计需要大约一个下午的时间读完，请有相关计划的读者做好相应的规划。<br><a id="more"></a></p>
<p>我在这里粗浅的总结一下从中的收获，以及阅读中可能遇到的理解问题和解决方法。</p>
<h2 id="结构概述"><a href="#结构概述" class="headerlink" title="结构概述"></a>结构概述</h2><p>全文主要讨论的问题可以直接看Page 2开头部分，把每个部分的主要内容都提前交代了。</p>
<ol>
<li><strong>Introduction</strong>: 解释了一些类型系统的基本概念名词，主要在于介绍类型系统设计的目的和几个评价标准，目前几种编程语言又是如何通过不同的实现达到相应的安全和效率目的。总之这部分可以看的稍微快一点，很综述性的东西。</li>
<li><strong>The language of type systems</strong>: 开始正式定义一种符号语言来描述编程语言中的类型系统，包括类型系统的基本规则，推理运算的表达，试图用这种符号语言讨论类型系统在上面提到的需要解决的问题。</li>
<li><strong>First-order Type Systems</strong>：用这种规范的语言开始描述第一个类型系统$F_1$，暂不探讨1st-order和2nd-order的差异，从最简单的，函数式的编程语言开始一步步定义了常见的类型，导出规则，作为后面几种类型系统的基础。</li>
<li><strong>First-order Type Systems for Imperative Languages</strong>：在上面的基础上引入声明和命令这些语法，并给出了它们在类型系统中的相应规则。<del><em>在文章中不是很重要的内容。</em></del></li>
<li><strong>Second-order Type Systems</strong>：在$F_1$的基础上，开始描述一种<strong>将类型作为类型的参数</strong>构造新类型的类型系统$F_2$及新类型的相关导出规则。</li>
<li><strong>Subtyping</strong>： 引入子类型规则，简单的构造了在前面两种类型系统基础上实现子类关系后的$F_{1&lt;:}$和$F_{2&lt;:}$。</li>
<li><strong>Equivalence</strong>: 最简的解释了类型之间等价关系是什么，以及几个判断的例子，<del><em>在文章中不是很重要的内容。</em></del></li>
<li><strong>Type inference</strong>：演示了在上面这些类型系统中简单的类型推断规则的使用（是的，只是最简模型的方法，甚至不能算的上是算法），提及一些现有类型推断和重构中存在的难点。</li>
<li><strong>Summary and Research Issues</strong>：文章常见的结论和展望部分，不多废话了，因为这篇文章比较老所以前景性的东西也没有必要认真看待，不过倒是提及了类型系统和数学的类型论（type theory）方向之间的关系，有兴趣的可以自行去nLab或者别的地方学一下类型论。</li>
</ol>
<p>后面的术语定义表和参考文献部分没有特别新奇特别值得注意的内容，但是我<strong>建议</strong>第一次读这篇文章时，初遇其中概念，理解模糊时可以快速查一下Page 37开始的Defining Terms部分，相比正文的解释，它对概念的描述更简洁直观。当然，顺序阅读到这里时，也可以快速读一下检验自己的理解是否准确清晰。</p>
<h2 id="概念-amp-推算的理解"><a href="#概念-amp-推算的理解" class="headerlink" title="概念&amp;推算的理解"></a>概念&amp;推算的理解</h2><p>阅读中可能会遇到一些理解上的困难，比如Page 21-22所做的Encoding of Divergence and Recursion via Recursive Types和Encoding the Untyped $\lambda$-calculus via Recursive Types部分我也真没怎么明白，和下文也没有什么关系，就直接跳过去了。</p>
<p>造成这种困扰很可能是因为全文的符号公式系统都是为了简洁而作出这样的呈现，与主流的符号系统存在一些细小的差异，而篇幅所限又不可能作出过于详细的解释和说明。</p>
<p>所以遇到不理解的地方，可以先查文章结尾部分的Defining Terms，如果还是得不到解答，去找TAPL相关内容（符号使用上更加直观）或检索相应关键词找相关的讲义和课件。这些尝试都失败以后，不妨放心的跳过去，反正很多内容和下文的关系也没有想象的那么大。</p>
<p>我在这里给出一些我阅读时纠结过的东西，以及最后对它们的结论，都是比较细节的东西，不保证完全的正确性，只希望思考过程能对以后看到的这里的人有所帮助。</p>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>类型系统相应的背景概念，对应Page 1-9，怎样的类型系统是安全的，编程语言的类型系统怎么分类，这些用文字阐述的东西，有相应编程经验应该不难出现理解问题。这部分如果有困难，直接按照名词去Defining Terms读最简的定义强行记忆。</p>
<p>值得一说的是，全文规避了一些如强弱类型这样无论在文章还是现实中都不怎么重要的概念之争，就是不希望你还浪费时间在考据这样无聊的定义上。能理解就理解，不能理解就假装自己知道了，编程经验上来了以后看这些东西都不算事。</p>
<h3 id="Union-Types"><a href="#Union-Types" class="headerlink" title="Union Types"></a>Union Types</h3><p>$F_1$的大部分基础类型没什么特别需要注意的，可能到union type开始会感觉有点陌生，前面的product type可以对应到常见的序对(pair)结构来理解，而union type如果没有相应的使用经验可能一下子想不起来。容易联想到C/C++的union structure，虽然二者有相似的地方（共有同一空间）但概念上并不是等价的东西，请忘掉它。使用过Standard ML或者Haskell就会容易理解公式系统中$A_1+A_2$这样的“加法”操作实际上等同<code>|</code>，用伪代码表示为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def type A = A1 | A2</span><br></pre></td></tr></table></figure></p>
<p>新的类型$A$实例化后的变量可以是一个$A_1$，或者是一个$A_2$类型的变量，都可以赋值给$A$类型的变量，两种类型都是$A$的“可能性”。使用时可以通过<code>case</code>关键字来确定具体的类型进行不同的操作，这一点上有点类似于我们通常说的多态（事实上Standard ML也确实是把它作为多态来实现的）。</p>
<p>如果不去考虑$A$是通过类型来定义的，也可以类比为C/C++的enum structure，不同的是union type所“枚举”的是类型，而enum枚举的是变量值，但在使用时一个变量只会有一种类型或值，只是它是来自定义中枚举的所有可能性之一。</p>
<p>union type很基础，后面也常用到，所以能理解尽量还是理解一下。它也通常和product type相对出现，几乎所有类型规则也都能找到对应关系，同理它们的推广record type和variant type，包括后面子类关系规则，建议把它们对照着看方便理解。当然<code>inLeft</code>和<code>inRight</code>这些构造方法定义的很模糊，不太友好，后面的用法也和这里不太一致，所以这里细节不要太深究了。</p>
<h3 id="Recursive-Types"><a href="#Recursive-Types" class="headerlink" title="Recursive Types"></a>Recursive Types</h3><p>虽然递归定义类型我们经常用（比如链表，二叉树）但抽象出符号语言还是一时难以习惯，毕竟之前可能没接触过$\mu$算子。</p>
<p>这里我个人建议可以稍微去读一下TAPL Chapter 20，或者其他材料<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>的文字解说和符号描述。</p>
<p>$\mu$算子与$\lambda$算子有相似之处。假设需要通过一个类型$X$递归构造出新的类型，可以使用函数$\lambda X.T$，$T$中出现过$X$，但$T$ <strong>在形式上</strong> 不完全等同于$X$，如果有某个$X^*$可以使得$X^*=[\lambda X.T]X^*$这个等式（右边也可以更正式的写为$[X^*/X]T$，表示将$T$中所有出现的$X$都替换为$X^*$，相似的表达还有TAPL的$[X \mapsto X^*]T$）成立，那么这个$X^*$就是该函数的一个不动点，表示为$X^*:=\mu X.T$，当然以上只是我个人给出的<strong>不严谨</strong>的解释，一般来说直接用$\mu X.T$来表示这个recursive type来表示就可以了。</p>
<p>文章提到的作用于recursive type的两个操作<code>fold</code>和<code>unfold</code>的定义可能有点费解，其实这也涉及上面那个不严谨的表达$X$到底和$T$是不是等价类型？如果是，能否把$T$中出现的$X$都用这个等式的（特）解$\mu X.T$替换掉？</p>
<p>讨论recursive type类型是否相等那一般就是说isorecursive和equi-recursive了，而那两个操作还是在讨论isorecursive,不展开更抽象的概念描述了，直接去看它们做了什么。</p>
<p>对于一个$\mu X.T$的<code>unfold</code>操作定义为把$\mu X.T$类型展开成$[\mu X.T/X]T$，即直接把不动点代入$T$展开一层，它的逆过程<code>fold</code>相应的把$[\mu X.T/X]T$折叠到$\mu X.T$</p>
<p><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/fold-unfold.png" alt="TAPL的替换标记稍有不同"></p>
<p>如果还是不理解这个操作可以想想一般的Y combinator，或者直接不用这套语言体系，说一下<code>fold</code>和<code>unfold</code>更广泛的使用场景：有一个函数$f$在$x$点取到$x=f(x)$即我们通常说的$x$是不动点，<code>unfold</code>就是把这个特定的不动点放到函数中再展开为$f(x)$，<code>fold</code>就是把$f(x)$折叠回$x$，上面的recursive type也是这个规则的特例。</p>
<p>用recursive type来描述类型的例子可以看我上面给的材料里面给出的二叉树，自然数列表，甚至自然数类型本身。回到文章中后面给出的一个用于检验理解的实例，构造list<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/list.png" alt=""><br>推算检验的难点在于各类操作符的省略很严重（比如<code>inLeft</code>，<code>inRight</code>，<code>fold</code>，<code>unfold</code>的下标都没有标明，实际上前两者视情况构造，后两个是$List_A$，也就是第一行那个$\mu$表达式），相比文章前半部分事无巨细的导出演绎，这里开始省略了很多作者认为不重要的内容，连文字说明都没有给出，而且对我这么笨的人来说直接算<code>fold</code>是很困难的，所以只能想象成<code>unfold</code>的逆过程开始看：</p>
<p>把$nil_A$作为参数<code>unfold</code>出来，$$[nil_A/X](unit+(A\times X))=unit+(A \times nil_A)$$应该是在形式上与$nil_A$“同构”的（我前面说了不讨论isorecursive，所以这里可以简单理解为形式上等价），所以构造时选择用$InLeft\text{ }unit$构造了一个$unit+(A \times nil_A)$类型的值$unit$作为空列表。当然这里的$InLeft$应该被看作按照参数$x:X$构造出任意右半部分的构造器，构造结果可以被当成$x:X+top$，$top$为任意类型。</p>
<p>当然正向思考也可以说这里有一个$unit:unit+T$可以成为$X=unit+(A\times X)$的解，<code>fold</code>回去可以找到推断出$T$的具体类型，但这个union type其实也不怎么重要，最终结果$unit+T$一定与$List_A$同构，反正它的值也已经确定为$unit$了（这是前文关于系统中空类型的规定，我们只是试图根据规定构造的更自然一些），这个<code>fold</code>的结果就作为$nil_A$了。</p>
<p>$cons_A$前面那堆curry先不看，没什么影响，直接仿照前面正向推断看<code>fold</code>的参数：$\langle hd,tl \rangle:A \times list_A$被$InRight$构造成了一个$\langle hd,tl \rangle:unit+A \times list_A$，注意可以直接推断出这里union type的另一部分也就是$inRight$的下标就是$unit$按照<code>fold</code>规则，整个变量的类型从$unit+A \times list_A$直接折叠到了$list_A$，得到的就是$\langle hd,tl \rangle:list_A$</p>
<p>后面的<code>listCase</code>不难理解，不多说了。TAPL 20.2给出了相似的实现自然数链表NatList的例子，相对来说符号描述上更友好一些，也可以参照着它的例子来理解：</p>
<p><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/NatList.png" alt="TAPL Page 278"></p>
<h3 id="Existential-Types"><a href="#Existential-Types" class="headerlink" title="Existential Types"></a>Existential Types</h3><p>$F_2$引入了“全称量词”（universally quantifier type），关于这个可以由类型来特例化的类型，原文说明的很清楚详细了，通过这样的描述可以很直观的感受到高阶的性质。</p>
<p>之后新引入的“存在量词”一开始接触可能有点困难，毕竟全文没有正面给出关于它的准确定义，但回过去读一遍它的例子BoolInterface可以理解<code>pack</code>的具体工作：<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/existential_type.png" alt=""></p>
<p>如果用类型变量$X$定义的$M:A$被用一个类型$B$可以实例化为$[B/X]M:[B/X]A$，那么我们可以存在一个$X=B$可以实现$M:A$这样的抽象，并把这一个特殊的实现用<code>pack</code>打包封装起来作为一个表达式，不用知道具体的实现（$X=B$）只要了解有这样一个$X$类型可以让实例化后的$M$是$A$类型，这里的$M$和$A$都是一种的抽象，我们所有可以从打包后的结果看出来的只有“存在一个具体的$X$，以及一种具体的实现方法，可以实现它”，因此它的类型可以被表达为$\exists X.A$</p>
<p>这个思想类似于抽象接口，隐藏了类型的具体实现，来看它的例子，假设我们需要实现一个BoolInterface，这个接口实际上是一个record type，需要规定<code>true</code>,<code>false</code>和<code>cond</code>这些域的类型信息，但它们的类型仍然是抽象的，需要“传入”一个具体的Bool类型来实例化它们的类型，从而确定整个record的类型<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/boolinterface.png" alt=""><br>这里选择把Bool类型实例化成unit+unit并给出一种实现方法，注意with后面的语句就是上文的$M$，还是以Bool为类型变量参数在构造一个record实例，当然具体的构造方法并不重要，没有细究的必要，打包结果BoolModule就是BoolInterface类的一个被实现的实例。<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/boolmodule.png" alt=""><br>回到前面的Val Open假设：如果$M$是一个已经完成打包的$\exists X.A$类型的表达式，$N$是一个使用了参数：类型变量$X$和用$X$定义的$A$类型的一个实例$x$的表达式，并且$N$的最终类型为$B$（注意这个$B$和前文<code>pack</code>使用的$B$没有任何联系，如果这里困惑可以把$B$换成别的符号），<code>open</code>操作把$M$封装时用到的那个特定的$X$（也就是前文<code>pack</code>的$B$）和$x:A$的真正实现（前文<code>pack</code>的$[B/X]M:[B/X]A$）作为“实参”直接传入$N$，当然，全程你依然对这个特定的$X$一无所知，却可以使用它来计算$N$生成一个$B$类型的结果，这也是接口和模块要求的对于实现细节的遮蔽。</p>
<p>对于BoolModule来说，<code>open</code>的具体实例为<br><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/open.png" alt=""><br>在<code>boolOp.cond(Nat)(boolOp.true)(1)(0)</code>中，<code>boolOp</code>被约束到了前文<code>with</code>后面的那个record type的值，这个语句里面虽然没有显式的出现<code>Bool</code>类型，但如果出现<code>Bool</code>也是被约束到unit+unit来进行整个语句的求值。这个语句最后的返回结果是自然数1。</p>
<p>这里想明白以后后面关于existential type的意义描述也就不难理解了，不再展开多谈。关于它的定义，性质，用法可以见TAPL Chapter 24的详细叙述，以及type theory也有数学上定义的existential type，老实说，这些延伸材料关于existential type的部分我都没细看，给不出特别有效的指导建议，只是感觉和在原文里的讨论形式上差别很大。</p>
<h3 id="Subtyping-amp-Type-inference"><a href="#Subtyping-amp-Type-inference" class="headerlink" title="Subtyping &amp; Type inference"></a>Subtyping &amp; Type inference</h3><p>我没有任何说这两个东西不重要的意思，相反它们非常重要。只是相比前面基础概念的定义，并没有多少构造性的东西，只要前面的理解没有问题，直接往后读这两块还是非常顺利的，没有提及太深刻的东西，trivial的问题也没展开说明直接跳过了，重点在于规则的应用。</p>
<p>subtype关系的规则大部分是符合直觉的，比如record的长度规则，可以联想OOP的继承关系，子类比父类有更多的域；再比如variant的长度规则相反，子类所拥有的“可能性”越少，长度越低。</p>
<p>讨论函数类型之间的子类关系时，需要考虑它们的参数类型和返回结果类型。这里就用到了covariant和contravariant的说法，文章中倒是给出了这两个名词的解释：与整个函数类型的子类关系变化方向一致的是covariant，返回类型上就是遵循这个规则；而与函数类型的子类关系变化方向相反的就是contravariant，参数则遵循这个规定。我也曾经随手写过一个<a href="https://www.zhihu.com/pin/1065382072121683968" target="_blank" rel="noopener">知乎想法评论</a>给出过我的理解：</p>
<blockquote>
<p>反正一句话的事<br>function subtyping is contravariant in arguments and covariant in results.<br>一个提供更多信息的函数应该输入更少信息并返回更多信息。</p>
</blockquote>
<p>文中也给出了一个总结，总是出现在第奇数个箭头左边的类型是函数类型的contravariant，文章给出的例子是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X-&gt;Unit</span><br><span class="line">(Unit-&gt;X)-&gt;Unit</span><br></pre></td></tr></table></figure></p>
<p>的$X$都是整个类型的contravariant，而两次contravariant又等同于covariant所以<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Unit-&gt;X</span><br><span class="line">(X-&gt;Unit)-&gt;X</span><br></pre></td></tr></table></figure></p>
<p>的$X$又是covariant</p>
<p>这个结论用起来可能需要注意的地方是$\to$本来就是右结合的，上面两个例子用括号规避了麻烦的讨论让例子更简单，直接从左往右数$\to$是第几个就行了，但没有括号提升优先级的时候，你就得从右往左数了。</p>
<p>Type inference部分也没有特别不好理解的地方，给出的所谓的几个算法虽然很抽象的概括了它需要完成的工作，但并没有涉及非常实际具体的做法，所以也没什么难点可谈，真实的type inference可能遇到的问题（比如不收敛）读原文的文字材料的叙述就能了解个大概了。</p>
<p>细节上可能有纠结的是$F_{2&lt;:}$的算法Table 37没说清楚<code>Expose</code>操作的意义</p>
<p><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/type-system/expose.png" alt=""><br>这里<code>Expose</code>是寻找类型$X$在类型系统中最高的一个supertype，下面使用<code>Expose</code>的场景也是在函数调用$M N$和高阶类型实例化$M A$时寻找$M$的类型在系统中的最大supertype，即$M$的参数的最小subtype-&gt;返回结果的最大supertype，这样就要求实参$N$的类型只能是这个最小的类型$A$才能进行推导，这样的强制<code>Expose</code>保证了函数调用的安全性（其他地方的<code>Type</code>没有这样的强制所以不保证给出符合推断的最小类型），在符合这样的调用后才会得到与返回类型一致的结果，但这里的$B$不是那个结果，只是最模糊的一个supertype，毕竟$F_{2&lt;:}$严格来说并不是一个完备的算法，只能小心翼翼保证产生的推断结果“没有错误”而并不完全准确。</p>
<h2 id="尾声"><a href="#尾声" class="headerlink" title="尾声"></a>尾声</h2><p>我写的东西大部分是细节理解上的讨论，只是为了防止有同样困惑的人纠结于此浪费时间，并不能取代文章本身的阅读。类型系统是计算机科学最优雅美丽的东西之一，精彩的论述还需要认真通读全文。</p>
<blockquote>
<p>祝你早日找到住在计算机内的神灵。</p>
</blockquote>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">Cardelli, Luca. <a href="http://lucacardelli.name/papers/typesystems.pdf" target="_blank" rel="noopener">&quot;Type systems.&quot;</a> <em>ACM Computing Surveys</em> 28.1 (1996): 263-264.</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.cs.cornell.edu/courses/cs4110/2012fa/lectures/lecture27.pdf" target="_blank" rel="noopener">https://www.cs.cornell.edu/courses/cs4110/2012fa/lectures/lecture27.pdf</a></span><a href="#fnref:2" rev="footnote"> ↩</a></li></ol></div></div>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="notebook.xyli.me/TAPL/type-system/" data-id="cjvpep254006mkow3n4utmzss" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      <!-- 
        <a href="#disqus_thread" class="article-comment-link">
        <i class="fa fa-comment"></i> Comments
        </a>
       -->
      

    </footer>
  </div>
  
    
<ul id="article-nav" class="nav nav-pills nav-justified">
  
  <li role="presentation">
    <a href="/LeetCode/LeetCode-Weekly-Contest-120/" id="article-nav-older" class="article-nav-link-wrap">
      <i class="fa fa-chevron-left pull-left"></i>
      <span class="article-nav-link-title">LeetCode Weekly Contest 120</span>
    </a>
  </li>
  
  
  <li role="presentation">
    <a href="/LeetCode/LeetCode-Weekly-Contest-121/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-link-title">LeetCode Weekly Contest 121</span>
      <i class="fa fa-chevron-right pull-right"></i>
    </a>
  </li>
  
</ul>


  
</article>


<!-- 
<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
 -->

  <div id="comments"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
    owner: 'Lixinyi-DUT',
    repo: 'TuQiang-Street-301',
    oauth: {
      client_id: '0a613b11d9140b2629e0',
      client_secret: 'b6ee57129a892f87bbac149167a90cf1a8035a47',
      id: 'Sat Jan 26 2019 17:42:47 GMT+0800',
    },
  })
  gitment.render('comments')
  </script>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-toc">
    <h4>概览</h4>
    <ol class="sidebar-module-list"><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#结构概述"><span class="sidebar-module-list-number">1.</span> <span class="sidebar-module-list-text">结构概述</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#概念-amp-推算的理解"><span class="sidebar-module-list-number">2.</span> <span class="sidebar-module-list-text">概念&推算的理解</span></a><ol class="sidebar-module-list-child"><li class="sidebar-module-list-item sidebar-module-list-level-3"><a class="sidebar-module-list-link" href="#背景"><span class="sidebar-module-list-number">2.1.</span> <span class="sidebar-module-list-text">背景</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-3"><a class="sidebar-module-list-link" href="#Union-Types"><span class="sidebar-module-list-number">2.2.</span> <span class="sidebar-module-list-text">Union Types</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-3"><a class="sidebar-module-list-link" href="#Recursive-Types"><span class="sidebar-module-list-number">2.3.</span> <span class="sidebar-module-list-text">Recursive Types</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-3"><a class="sidebar-module-list-link" href="#Existential-Types"><span class="sidebar-module-list-number">2.4.</span> <span class="sidebar-module-list-text">Existential Types</span></a></li><li class="sidebar-module-list-item sidebar-module-list-level-3"><a class="sidebar-module-list-link" href="#Subtyping-amp-Type-inference"><span class="sidebar-module-list-number">2.5.</span> <span class="sidebar-module-list-text">Subtyping & Type inference</span></a></li></ol></li><li class="sidebar-module-list-item sidebar-module-list-level-2"><a class="sidebar-module-list-link" href="#尾声"><span class="sidebar-module-list-number">3.</span> <span class="sidebar-module-list-text">尾声</span></a></li></ol>
  </div>



  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>找工作中。简历见<a href="http://resume.xyli.me/" style="text-decoration:none;">resume.xyli.me</a>，现在到2019年8月前均可入职，有任何算法/开发/研究岗短期工作机会的内推请不要犹豫的联系我，非常感谢！</p>
<p>微信公众号</p><img src="https://github.com/Lixinyi-DUT/Project-Yangzhou/raw/master/notebook/LeetCode/qrcode.png"  style="width:215px;height:215px;" align="middle"><p>联系作者<em><a href="mailto:wolixinyi@gmail.com" style="text-decoration:none;"><i class="fa fa-envelope-o"></i>wolixinyi@gmail.com</a></em></p>

</div>


  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/CS161/">CS161</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Deutsche101/">Deutsche101</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Introduction/">Introduction</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/LeetCode/">LeetCode</a><span class="sidebar-module-list-count">77</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/MIT6-042/">MIT6.042</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/SICP/">SICP</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/TAPL/">TAPL</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/lambda-calculus/">lambda calculus</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-tags">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/DrRacket/">DrRacket</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/LaTeX/">LaTeX</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/continuation/">continuation</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/书评/">书评</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/内存分配/">内存分配</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/函数式编程/">函数式编程</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/动态规划/">动态规划</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/垃圾回收/">垃圾回收</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/失败/">失败</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/德语/">德语</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/数字电路/">数字电路</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/约束编程/">约束编程</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/组合数学/">组合数学</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/编译器/">编译器</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/规划问题/">规划问题</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/语种介绍/">语种介绍</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/贪心算法/">贪心算法</a><span class="sidebar-module-list-count">2</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/DrRacket/" style="font-size: 15px;">DrRacket</a> <a href="/tags/LaTeX/" style="font-size: 10px;">LaTeX</a> <a href="/tags/continuation/" style="font-size: 10px;">continuation</a> <a href="/tags/书评/" style="font-size: 10px;">书评</a> <a href="/tags/内存分配/" style="font-size: 10px;">内存分配</a> <a href="/tags/函数式编程/" style="font-size: 20px;">函数式编程</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/垃圾回收/" style="font-size: 10px;">垃圾回收</a> <a href="/tags/失败/" style="font-size: 10px;">失败</a> <a href="/tags/德语/" style="font-size: 10px;">德语</a> <a href="/tags/数字电路/" style="font-size: 10px;">数字电路</a> <a href="/tags/约束编程/" style="font-size: 10px;">约束编程</a> <a href="/tags/组合数学/" style="font-size: 10px;">组合数学</a> <a href="/tags/编译器/" style="font-size: 10px;">编译器</a> <a href="/tags/规划问题/" style="font-size: 10px;">规划问题</a> <a href="/tags/语种介绍/" style="font-size: 10px;">语种介绍</a> <a href="/tags/贪心算法/" style="font-size: 15px;">贪心算法</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/05/">五月 2019</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/04/">四月 2019</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/03/">三月 2019</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/02/">二月 2019</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/01/">一月 2019</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/12/">十二月 2018</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/11/">十一月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/10/">十月 2018</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/09/">九月 2018</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/08/">八月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/07/">七月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/06/">六月 2018</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/05/">五月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/04/">四月 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/03/">三月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">二月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">一月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">十二月 2017</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">十月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">八月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">七月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">六月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">十月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">九月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/1990/05/">五月 1990</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module sidebar-recents">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-136/">LeetCode Weekly Contest 136</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-135/">LeetCode Weekly Contest 135</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-134/">LeetCode Weekly Contest 134</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-133/">LeetCode Weekly Contest 133</a>
        </li>
      
        <li>
          <a href="/LeetCode/LeetCode-Weekly-Contest-132/">LeetCode Weekly Contest 132</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2019 Xinyi Li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'notebook-xyli-me';
  
  var disqus_url = 'notebook.xyli.me/TAPL/type-system/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/github.min.css" integrity="sha384-WtUWHyk39lfUpZQVgokNfSKCJaKAeD6adgLduBLrKTMUuPzFhLtL23y1guFy6lZn" crossorigin="anonymous">
  <script src="/highlight/highlight.pack.js"></script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>
